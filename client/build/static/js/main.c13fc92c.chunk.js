(this["webpackJsonptaller-client"]=this["webpackJsonptaller-client"]||[]).push([[0],{109:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(18),i=t.n(o),c=t(3),l=t(1),u=t(31),d=t.n(u),s=t(55),m=t.n(s),p=d()();p.configure(d.a.socketio(m()("https://taller.calarco.com.ar",{transports:["websocket"]}))),p.configure(d.a.authentication({storage:window.localStorage}));var b,f,h,v,g,y,E=p,x=t(2),O=t(5),j=t(110),k={shadows:{surface:"0 0.5px 0.7px rgba(0, 0, 0, 0.079), 0 1.6px 2.5px rgba(0, 0, 0, 0.059), 5px 7px 11px rgba(0, 0, 0, 0.121), -5px -5px 10px rgba(255, 255, 255, 0.5)",surfaceVariant:"0 0.5px 0.7px rgba(0, 0, 0, 0.05), 0 1.6px 2.5px rgba(0, 0, 0, 0.03), 5px 7px 11px rgba(0, 0, 0, 0.01), -5px -5px 10px rgba(255, 255, 255, 0.3)"},borders:{border:"1px solid rgba(0, 0, 0, 0.2)",borderVariant:"1px solid rgba(0, 0, 0, 0.1)",borderPrimary:"1px solid rgba(80, 152, 206, 0.3)"},colors:{background:"#CFD8DC",surface:"rgba(255, 255, 255, 1)",surfaceT:"rgba(255, 255, 255, 0.7)",surfaceVariant:"#e3e8eb",primary:"rgba(66, 121, 152, 1)",primaryVariant:"rgba(66, 121, 152, 0.2)",secondary:"rgba(192, 128, 102, 1)",secondaryVariant:"rgba(192, 128, 102, 0.2)",onBackground:"rgba(0, 0, 0, 0.9)",onBackgroundVariant:"rgba(0, 0, 0, 0.5)",onBackgroundDisabled:"rgba(0, 0, 0, 0.3)",error:"rgba(236, 71, 88, 1)",errorVariant:"#ef948f",overlay:"rgba(236, 239, 241, 0.7)"}},w={shadows:{surface:"0 0.5px 0.7px rgba(0, 0, 0, 0.079), 0 1.6px 2.5px rgba(0, 0, 0, 0.059), 5px 7px 11px rgba(0, 0, 0, 0.121), -5px -5px 10px rgba(255, 255, 255, 0)",surfaceVariant:"0 0.5px 0.7px rgba(0, 0, 0, 0.079), 0 1.6px 2.5px rgba(0, 0, 0, 0.059), 5px 7px 11px rgba(0, 0, 0, 0.121), -5px -5px 10px rgba(255, 255, 255, 0)"},borders:{border:"1px solid rgba(255, 255, 255, 0.3)",borderVariant:"1px solid hsla(17, 42%, 68%, 0.1)",borderPrimary:"1px solid hsla(202, 39%, 53%, 0.3)"},colors:{background:"#010101",surface:"hsla(202, 10%, 12%, 1)",surfaceT:"hsla(202, 10%, 14%, 0.7)",surfaceVariant:"hsla(202, 10%, 8%, 1)",primary:"hsla(202, 39%, 53%, 1)",primaryVariant:"hsla(202, 39%, 53%, 0.1)",secondary:"hsla(17, 42%, 68%, 1)",secondaryVariant:"hsla(17, 42%, 68%, 0.1)",onBackground:"rgba(255, 255, 255, 0.87)",onBackgroundVariant:"rgba(255, 255, 255, 0.6)",onBackgroundDisabled:"rgba(255, 255, 255, 0.038)",error:"rgba(236, 71, 88, 1)",errorVariant:"#f45104",overlay:"hsla(202, 10%, 6%, 0.7)"}},C=t(60),I=Object(x.createGlobalStyle)(b||(b=Object(l.a)(["\n    ","\n\n    ::-webkit-scrollbar {\n        width: 8px;\n        height: 8px;\n    }\n\n    ::-webkit-scrollbar-track {\n        background: var(--overlay);\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: rgba(0, 0, 0, 0.038);\n        border: 1px solid rgba(0, 0, 0, 0.038);\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n        background: var(--on-background-variant);\n    }\n\n    *,\n    *::before,\n    *::after {\n        box-sizing: border-box;\n    }\n\n    :root {\n        -moz-tab-size: 4;\n        tab-size: 4;\n    }\n\n    #root, html, body {\n        height: 100vh;\n    }\n\n    html {\n        font-size: 16px;\n\t    scroll-behavior: smooth;\n    }\n    \n    body {\n        --shadow: ",";\n        --shadow-variant: ",";\n\n        --border: ",";\n        --border-variant: ",";\n        --border-primary: ",";\n\n        --background: ",";\n        --surface: ",";\n        --surface-t: ",";\n        --surface-variant: ",";\n        --primary: ",";\n        --primary-variant: ",";\n        --secondary: ",";\n        --secondary-variant: ",";\n        --on-background: ",";\n        --on-background-variant: ",";\n        --on-background-disabled: ",";\n        --error: ",";\n        --error-variant: ",";\n        --overlay: ",';\n\n        --font-family: "Supreme-Variable";\n        --font-family-alt: "SpaceMono-Regular";\n\n        --label: 300 0.75rem/1.25rem var(--font-family);\n        --body1: 300 0.9rem/1.25rem var(--font-family);\n        --body2: 500 0.9rem/1.5rem var(--font-family);\n        --subhead1: 300 1rem/1.5rem var(--font-family);\n        --subhead2: 500 1rem/1.75rem var(--font-family);\n        --title: 500 1.25rem/1.75rem var(--font-family);\n        --headline: 300 1.5rem/2rem var(--font-family);\n        --display-1: 300 2rem/2.5rem var(--font-family);\n\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        text-rendering: optimizeLegibility;\n        font-feature-settings: "kern" 1;\n        font-kerning: normal;\n        font-family: var(--font-family), var(--font-family-alt), sans-serif;\n\n        background: var(--background);\n        color: var(--on-background);\n        \n        overflow: hidden;\n        user-select: none;\n    }\n\n    pre,\n    p,\n    h6,\n    h5,\n    h4,\n    h3,\n    h2,\n    h1,\n    label {\n        display: inline-block;\n        margin: 0;\n        color: var(--on-background);\n\n        span, small {\n            margin-left: 0.75em;\n            color: var(--on-background-variant);\n        }\n    }\n\n    p {\n        font: var(--body1);\n\n        &::before {\n            content: \'\';\n            display: inline-block;\n            height: 0;\n            width: 0;\n            margin-top: calc((1 - 1.25) * 0.5em);\n        }\n\n        small {\n            font: var(--label);\n        }\n    }\n\n    h6 {\n        font: var(--body2);\n\n        &::before {\n            content: \'\';\n            display: inline-block;\n            height: 0;\n            width: 0;\n            margin-top: calc((1 - 1.5) * 0.5em);\n        }\n\n        small {\n            font: var(--body1);\n        }\n\n        span {\n            font: var(--subhead1);\n        }\n    }\n\n    h5 {\n        font: var(--subhead1);\n\n        &::before {\n            content: \'\';\n            display: inline-block;\n            height: 0;\n            width: 0;\n            margin-top: calc((1 - 1.5) * 0.5em);\n        }\n\n        small {\n            font: var(--body1);\n        }\n    }\n\n    h4 {\n        font: var(--subhead2);\n\n        &::before {\n            content: \'\';\n            display: inline-block;\n            height: 0;\n            width: 0;\n            margin-top: calc((1 - 2.25) * 0.5em);\n        }\n\n        small {\n            font: var(--body1);\n        }\n    }\n\n    h3 {\n        font: var(--title);\n\n        &::before {\n            content: \'\';\n            display: inline-block;\n            height: 0;\n            width: 0;\n            margin-top: calc((1 - 2.25) * 0.5em);\n        }\n    }\n\n    h2 {\n        font: var(--headline);\n\n        &::before {\n            content: \'\';\n            display: inline-block;\n            height: 0;\n            width: 0;\n            margin-top: calc((1 - 2) * 0.5em);\n        }\n\n        small {\n            font: var(--subhead1);\n        }\n    }\n\n    h1 {\n        font: var(--display-1);\n        text-align: center;\n\n        &::before {\n            content: \'\';\n            display: inline-block;\n            height: 0;\n            width: 0;\n            margin-top: calc((1 - 2.5) * 0.5em);\n        }\n    }\n\n    label {\n        font: var(--label);\n        color: var(--on-background-variant);\n\n        &:focus-within {\n            color: var(--primary)\n        }\n\n        span {\n            font: var(--subhead1);\n            color: var(--on-background);\n        }\n\n        pre,\n        p,\n        h6,\n        h5,\n        h4,\n        h3,\n        h2,\n        h1 {\n            display: block;\n            color: var(--on-background);\n        }\n    }\n\n    fieldset {\n        margin: 0;\n        padding: 0;\n        border: none;\n    }\n\n    input::placeholder {\n        color: var(--on-background-variant);\n    }\n\n    input[type="search"],\n    input[type="text"],\n    input[type="number"],\n    input[type="email"],\n    input[type="tel"],\n    input[type="date"],\n    input[type="time"],\n    input[type="password"],\n    textarea,\n    select {\n        display: block;\n        width: 100%;\n        padding: 0.25rem 0.5rem;\n        border-radius: 4px;\n        outline: none;\n        background: none;\n        border: var(--border-variant);\n        font: var(--subhead1);\n        color: var(--on-background);\n        transition: 0.1s ease-in;\n    }\n\n    input[type="search"] {\n        height: 3rem;\n        padding: 0 1.5rem;\n        border-radius: 4px 4px 0 0;\n        text-transform: uppercase;\n    }\n\n    input[type="number"] {\n        width: auto;\n        width: 100%;\n        text-align: inherit;\n    }\n\n    input[type="date"] {\n        width: auto;\n    }\n\n    textarea {\n        resize: none;\n    }\n\n    select {\n        appearance: none;\n        padding: 0.25rem 0.5rem;\n        background: rgba(236, 239, 241, 0.7);\n        border: 1px solid rgba(0, 0, 0, 0);\n    }\n\n    input[type="checkbox"] {\n        display: none;\n    }\n    \n    input[type="search"]:hover,\n    input[type="text"]:hover,\n    input[type="number"]:hover,\n    input[type="email"]:hover,\n    input[type="tel"]:hover,\n    input[type="date"]:hover,\n    input[type="time"]:hover,\n    input[type="password"]:hover,\n    textarea:hover,\n    select:hover {\n        border: 1px solid var(--primary-variant);\n        transition: 0.15s ease-out;\n    }\n\n    select:not(:disabled):hover {\n        cursor: pointer;\n        background: var(--primary-variant);\n        border: 1px solid rgba(0, 0, 0, 0);\n    }\n    \n    input[type="search"]:focus,\n    input[type="text"]:focus,\n    input[type="number"]:focus,\n    input[type="email"]:focus,\n    input[type="tel"]:focus,\n    input[type="date"]:focus,\n    input[type="time"]:focus,\n    input[type="password"]:focus,\n    textarea:focus,\n    select:focus {\n        outline: none;\n        background: var(--primary-variant);\n        box-shadow: var(--shadow-variant);\n        color: var(--on-background);\n        transition: 0.15s ease-out;\n    }\n\n    select:focus {\n        border: 1px solid var(--primary-variant);\n    }\n\n    input[type="search"]:hover,\n    input[type="search"]:focus {\n        border: none;\n        background: none;\n    }\n\n    input[type="search"]:disabled,\n    input[type="text"]:disabled,\n    input[type="number"]:disabled,\n    input[type="email"]:disabled,\n    input[type="tel"]:disabled,\n    input[type="date"]:disabled,\n    input[type="time"]:disabled,\n    input[type="password"]:disabled,\n    textarea:disabled,\n    select:disabled {\n        pointer-events: none;\n    }\n\n    input:-webkit-autofill,\n    input:-webkit-autofill:hover, \n    input:-webkit-autofill:focus,\n    textarea:-webkit-autofill,\n    textarea:-webkit-autofill:hover,\n    textarea:-webkit-autofill:focus,\n    select:-webkit-autofill,\n    select:-webkit-autofill:hover,\n    select:-webkit-autofill:focus {\n        -webkit-text-fill-color: var(--on-background);\n        -webkit-box-shadow: 0 0 0px 1000px var(--background) inset;\n        box-shadow: none;\n        border-width: 1px;\n        border-style: solid;\n        border-color: #2f2f2f;\n        border-image: none;\n    }\n\n    button,\n    input[type="submit"] {\n        position: relative;\n        padding: 0.5rem 1.5rem;\n        border-radius: 4px;\n        background: none;\n        border: none;\n        border: 1px solid rgba(0, 0, 0, 0.3);\n        text-transform: uppercase;\n        font: var(--body2);\n        color: var(--primary);\n        transition: 0.1s ease-in;\n    }\n\n    button[type="submit"],\n    input[type="submit"] {\n        color: var(--secondary);\n    }\n\n    button[type="reset"] {\n        color: var(--error);\n    }\n\n    button:hover,\n    input[type="submit"]:hover {\n        cursor: pointer;\n        background: var(--primary-variant);\n        transition: 0.15s ease-out;\n    }\n\n    button:focus,\n    input[type="submit"]:focus {\n        outline: none;\n        background: var(--secondary-variant);\n    }\n\n    button:disabled,\n    input[type="submit"]:disabled {\n        cursor: default;\n        background: none;\n        color: var(--on-background-disabled);\n    }\n'])),C.normalize,(function(e){return e.theme.shadows.surface}),(function(e){return e.theme.shadows.surfaceVariant}),(function(e){return e.theme.borders.border}),(function(e){return e.theme.borders.borderVariant}),(function(e){return e.theme.borders.borderPrimary}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.surface}),(function(e){return e.theme.colors.surfaceT}),(function(e){return e.theme.colors.surfaceVariant}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primaryVariant}),(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.colors.secondaryVariant}),(function(e){return e.theme.colors.onBackground}),(function(e){return e.theme.colors.onBackgroundVariant}),(function(e){return e.theme.colors.onBackgroundDisabled}),(function(e){return e.theme.colors.error}),(function(e){return e.theme.colors.errorVariant}),(function(e){return e.theme.colors.overlay})),S=t(7),A=t(4),D=x.default.div(f||(f=Object(l.a)(["\n    display: inline-block;\n    vertical-align: middle;\n    width: 40px;\n    height: 40px;\n    background-color: var(--on-background-variant);\n    border-radius: 100%;\n    -webkit-animation: sk-scaleout 1s infinite ease-in-out;\n    animation: sk-scaleout 1s infinite ease-in-out;\n\n    @keyframes sk-scaleout {\n        0% {\n            -webkit-transform: scale(0);\n            transform: scale(0);\n        }\n        100% {\n            -webkit-transform: scale(1);\n            transform: scale(1);\n            opacity: 0;\n        }\n    }\n"]))),$=x.default.div(h||(h=Object(l.a)(["\n    height: 100%;\n    display: grid;\n    justify-items: center;\n    align-items: center;\n    opacity: 1;\n    transition: 0.2s ease-out;\n"]))),R=x.default.form(v||(v=Object(l.a)(["\n    position: relative;\n    border-radius: 4px;\n    border: 1px solid var(--primary);\n    box-shadow: var(--shadow);\n    background: var(--primary);\n    display: grid;\n    gap: 1px;\n    align-items: start;\n\n    label {\n        height: 5rem;\n        padding: 0.5rem 1rem 0.75rem 1rem;\n        background: var(--surface);\n        display: grid;\n        align-content: space-between;\n    }\n\n    label:first-child {\n        border-radius: 4px 4px 0 0;\n    }\n"]))),z=x.default.div(g||(g=Object(l.a)(["\n    width: 100%;\n    height: 3rem;\n    border-radius: 0 0 4px 4px;\n    overflow: hidden;\n    background: var(--surface);\n    display: flex;\n    transition: 0.25s ease-out;\n\n    button {\n        width: 100%;\n        height: 3rem;\n        margin: 0;\n        padding: 0 1.5rem;\n        border-radius: 0px;\n        background: none;\n        border: none;\n    }\n"]))),V=x.default.div(y||(y=Object(l.a)(["\n    position: absolute;\n    bottom: -3rem;\n    height: 3rem;\n    width: 100%;\n    border-radius: 4px;\n    box-shadow: var(--shadow-variant);\n    background: var(--surface-variant);\n"]))),B=function(e){var n=e.setUser,t=Object(a.useState)({user:"",password:"",loading:!1,error:""}),o=Object(c.a)(t,2),i=o[0],l=o[1],u=function(e){e.persist(),l((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(S.a)({},e.target.name,e.target.value))}))};return r.a.createElement($,null,r.a.createElement(R,{onSubmit:function(e){e.preventDefault(),l(Object(A.a)(Object(A.a)({},i),{},{loading:!0})),E.authenticate({strategy:"local",email:i.user,password:i.password}).then((function(e){var t=e.user;return n(t)})).catch((function(e){console.error(e),l(Object(A.a)(Object(A.a)({},i),{},{password:"",loading:!1,error:e.message}))}))}},r.a.createElement("label",null,"Usuario",r.a.createElement("input",{type:"text",name:"user",value:i.user,onChange:u,autoComplete:"username"})),r.a.createElement("label",null,"Contrase\xf1a",r.a.createElement("input",{type:"password",name:"password",value:i.password,onChange:u,autoComplete:"current-password"})),r.a.createElement(z,null,i.loading?r.a.createElement(D,null):r.a.createElement("button",{type:"submit",disabled:!!i.loading},"Ingresar")),i.error&&r.a.createElement(V,null,i.error)))},N=Object(a.createContext)({clienteId:0,vehiculoId:0,presupuestoId:0,activeCard:"",setClienteId:function(){},setVehiculoId:function(){},setPresupuestoId:function(){},setActiveCard:function(){}});function P(e){var n=e.children,t=Object(a.useState)(0),o=Object(c.a)(t,2),i=o[0],l=o[1],u=Object(a.useState)(0),d=Object(c.a)(u,2),s=d[0],m=d[1],p=Object(a.useState)(0),b=Object(c.a)(p,2),f=b[0],h=b[1],v=Object(a.useState)(""),g=Object(c.a)(v,2),y=g[0],E=g[1];return Object(a.useEffect)((function(){0!==s&&h(0)}),[s]),Object(a.useEffect)((function(){0!==f&&m(0)}),[f]),r.a.createElement(N.Provider,{value:{clienteId:i,vehiculoId:s,presupuestoId:f,activeCard:y,setClienteId:l,setVehiculoId:m,setPresupuestoId:h,setActiveCard:E}},n)}function T(){var e=Object(a.useContext)(N);if(void 0===e)throw new Error("useGestion must be used within a GestionProvider");return e}var q,F,M,L,U=Object(a.createContext)({getCarName:function(){return""}});function W(e){var n=e.children,t=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,nombre:"",createdAt:"",updatedAt:""}]}),o=Object(c.a)(t,2),i=o[0],l=o[1],u=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,nombre:"",createdAt:"",updatedAt:"",fabricanteId:0}]}),d=Object(c.a)(u,2),s=d[0],m=d[1];function p(){E.service("fabricantes").find({query:{$limit:100,$sort:{nombre:1}}}).then((function(e){e.data[0]&&l(e)})).catch((function(e){console.error(e)})),E.service("modelos").find({query:{$limit:200,$sort:{nombre:1}}}).then((function(e){e.data[0]&&m(e)})).catch((function(e){console.error(e)}))}return Object(a.useEffect)((function(){p(),E.service("fabricantes").on("created",(function(){return p()})),E.service("modelos").on("created",(function(){return p()}))}),[]),r.a.createElement(U.Provider,{value:{getCarName:function(e){try{return i.data.find((function(n){return n.id===s.data.find((function(n){return n.id===e})).fabricanteId})).nombre+" "+s.data.find((function(n){return n.id===e})).nombre}catch(n){return"error"}}}},n)}function Y(){var e=Object(a.useContext)(U);if(void 0===e)throw new Error("useCarName must be used within a CarNameProvider");return e}var G,H,K,J,Q,X,Z,_,ee,ne,te,ae,re,oe,ie,ce,le,ue,de,se,me,pe,be,fe,he,ve,ge,ye,Ee,xe,Oe,je,ke,we,Ce,Ie,Se,Ae,De,$e,Re,ze,Ve,Be,Ne,Pe,Te,qe,Fe,Me,Le,Ue,We,Ye,Ge,He,Ke,Je,Qe,Xe,Ze,_e,en,nn,tn,an,rn,on,cn,ln,un,dn,sn=x.default.section(q||(q=Object(l.a)(["\n    content-visibility: auto;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    min-height: 25rem;\n    max-height: 100%;\n    padding: 1.5rem;\n    overflow-y: overlay;\n    display: flex;\n    flex-direction: column;\n    gap: 1.5rem;\n    transition: 0.3s ease-out;\n\n    ",";\n"])),(function(e){return e.overlay&&Object(x.css)(F||(F=Object(l.a)(["\n            overflow: hidden;\n        "])))})),mn=x.default.div(M||(M=Object(l.a)(["\n    content-visibility: auto;\n    will-change: opacity;\n    visibility: hidden;\n    opacity: 0;\n    position: absolute;\n    z-index: 1001;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 4px;\n    background: var(--overlay);\n    backdrop-filter: blur(0.5rem);\n    transition: 0.25s ease-in;\n\n    ",";\n"])),(function(e){return e.overlay&&Object(x.css)(L||(L=Object(l.a)(["\n            visibility: visible;\n            height: 1000%;\n            opacity: 1;\n            transform: initial;\n            transition: 0.3s ease-out;\n        "])))})),pn=function(e){var n=e.overlay,t=e.onClick,a=e.children,o=e.className;return r.a.createElement(sn,{overlay:n,className:o},a,r.a.createElement(mn,{overlay:n,onClick:t}))},bn=x.default.div(G||(G=Object(l.a)(['\n    position: relative;\n    width: 100%;\n    transition: 0.1s ease-in;\n    display: grid;\n    grid-template-columns: auto 1fr;\n    align-items: center;\n    justify-content: start;\n\n    &:hover {\n        cursor: pointer;\n        background: var(--primary-variant);\n        transition: 0.15s ease-out;\n    }\n\n    &:not(:first-child)::after {\n        content: "";\n        position: absolute;\n        top: 0;\n        z-index: 0;\n        width: 100%;\n        border-top: var(--border-variant);\n    }\n\n    > p {\n        position: relative;\n        width: 8.5rem;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: var(--font-family-alt);\n        color: var(--on-background-variant);\n\n        &::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            right: 0;\n            height: 2rem;\n            border-right: var(--border-variant);\n        }\n    }\n\n    h4 {\n        padding: 1.5rem 2.5rem;\n    }\n']))),fn=function(e){var n=e.cliente,t=e.onClick;return r.a.createElement(bn,{onClick:t},r.a.createElement("p",null,n.updatedAt.substring(8,10),r.a.createElement("span",null,new Date(n.updatedAt).toLocaleDateString("default",{month:"short"}).substring(0,3))),r.a.createElement("h4",null,n.nombre," ",n.apellido))},hn=x.default.div(H||(H=Object(l.a)(['\n    position: relative;\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    transition: 0.15s ease-in;\n\n    &:not(:first-child)::after {\n        content: "";\n        position: absolute;\n        top: 0;\n        z-index: 0;\n        width: 100%;\n        border-top: var(--border-variant);\n    }\n']))),vn=x.default.div(K||(K=Object(l.a)(['\n    display: grid;\n    grid-template-columns: auto 1fr;\n    align-items: center;\n    justify-content: start;\n\n    &:hover {\n        cursor: pointer;\n        background: var(--primary-variant);\n        transition: 0.15s ease-out;\n    }\n\n    > p {\n        position: relative;\n        width: 8.5rem;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: var(--font-family-alt);\n        color: var(--on-background-variant);\n\n        &::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            right: 0;\n            height: 2rem;\n            border-right: var(--border-variant);\n        }\n    }\n\n    div {\n        padding: 1.5rem 2.5rem;\n        display: grid;\n        grid-auto-flow: column;\n        align-items: center;\n        justify-content: start;\n        gap: 1rem;\n    }\n\n    h4 {\n        font: 400 1rem/1.75rem var(--font-family-alt);\n    }\n']))),gn=x.default.h5(J||(J=Object(l.a)(["\n    position: relative;\n    padding: 1.5rem 2.5rem;\n    border: 1px solid rgba(0, 0, 0, 0);\n    display: grid;\n    transition: 0.15s ease-in;\n\n    ",";\n\n    ",";\n"])),(function(e){return!e.active&&Object(x.css)(Q||(Q=Object(l.a)(["\n            &:hover {\n                cursor: pointer;\n                background: var(--primary-variant);\n                transition: 0.15s ease-out;\n            }\n        "])))}),(function(e){return e.active&&Object(x.css)(X||(X=Object(l.a)(["\n            background: var(--primary-variant);\n            transition: 0.15s ease-out;\n        "])))})),yn=function(e){var n=e.vehiculo,t=e.active,o=T(),i=o.setClienteId,l=o.setVehiculoId,u=Y().getCarName,d=Object(a.useState)({id:0,nombre:"",apellido:"",telefono:" ",direccion:"",empresa:"",createdAt:"",updatedAt:""}),s=Object(c.a)(d,2),m=s[0],p=s[1];return Object(a.useEffect)((function(){E.service("clientes").get(n.clienteId).then((function(e){p(e)})).catch((function(e){console.log("error",e)}))}),[n]),r.a.createElement(hn,null,r.a.createElement(vn,{onClick:function(){l(n.id),i(n.clienteId)}},r.a.createElement("p",null,n.updatedAt.substring(8,10),r.a.createElement("span",null,new Date(n.updatedAt).toLocaleDateString("default",{month:"short"}).substring(0,3))),r.a.createElement("div",null,r.a.createElement("h4",null,n.patente),r.a.createElement("p",null,u(n.modeloId)))),r.a.createElement(gn,{active:t,onClick:function(){i(t?0:m.id)}},m.nombre," ",m.apellido))},En=x.default.div(Z||(Z=Object(l.a)(['\n    position: relative;\n    width: 100%;\n    transition: 0.1s ease-in;\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    align-items: center;\n    justify-content: start;\n\n    &:hover {\n        cursor: pointer;\n        background: var(--primary-variant);\n        transition: 0.15s ease-out;\n    }\n\n    &:not(:first-child)::after {\n        content: "";\n        position: absolute;\n        top: 0;\n        z-index: 0;\n        width: 100%;\n        border-top: var(--border-variant);\n    }\n\n    > p {\n        position: relative;\n        width: 8.5rem;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: var(--font-family-alt);\n        color: var(--on-background-variant);\n\n        &::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            right: 0;\n            height: 2rem;\n            border-right: var(--border-variant);\n        }\n    }\n\n    div {\n        padding: 1.5rem 2.5rem;\n        display: grid;\n        grid-auto-flow: column;\n        align-items: center;\n        justify-content: start;\n        gap: 1rem;\n\n        h4 {\n            font: 400 1rem/1.75rem var(--font-family-alt);\n        }\n    }\n\n    > h5 {\n        padding: 0 2.5rem;\n    }\n']))),xn=function(e){var n=e.presupuesto,t=e.onClick,a=Y().getCarName;return r.a.createElement(En,{onClick:t},r.a.createElement("p",null,n.updatedAt.substring(8,10),r.a.createElement("span",null,new Date(n.updatedAt).toLocaleDateString("default",{month:"short"}).substring(0,3))),r.a.createElement("div",null,r.a.createElement("h4",null,n.patente),r.a.createElement("p",null,a(n.modeloId))),r.a.createElement("h5",null,"aoeu@aoeu.com"))},On=function(){var e=T(),n=e.clienteId,t=e.setPresupuestoId,o=Object(a.useState)([{id:0,patente:"",createdAt:"",updatedAt:"",modeloId:0,km:"",motivo:"",labor:"",repuestos:[{cantidad:"",repuesto:"",precio:""}],year:"",combustible:"",cilindrada:"",clienteId:0}]),i=Object(c.a)(o,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){E.service("vehiculos").find({query:{$limit:50,$sort:{updatedAt:-1}}}).then((function(e){E.service("presupuestos").find({query:{$limit:50,$sort:{updatedAt:-1}}}).then((function(n){u(function(e,n){var t=e.concat(n);return t.sort((function(e,n){return n.updatedAt.localeCompare(e.updatedAt)})),t}(e.data,n.data))})).catch((function(e){console.log("error",e)}))})).catch((function(e){console.log("error",e)}))}),[]),r.a.createElement(r.a.Fragment,null,l[0]&&0!==l[0].id&&l.map((function(e,a){return e.repuestos?r.a.createElement(xn,{key:a,presupuesto:e,onClick:function(){t(e.id)}}):r.a.createElement(yn,{key:a,active:e.clienteId===n,vehiculo:e})})))},jn=Object(O.a)(pn).attrs({unmountOnExit:!0,timeout:{enter:300,exit:150}})(_||(_=Object(l.a)(["\n    content-visibility: auto;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    min-height: 25rem;\n    max-height: 100%;\n    padding: 0;\n    padding-top: 3rem;\n    overflow-y: auto;\n    display: flex;\n    flex-direction: column;\n    gap: 0;\n\n    &:enter {\n        opacity: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transition: 0.15s ease-in;\n    }\n"]))),kn=x.default.h5(ee||(ee=Object(l.a)(["\n    padding: 2rem;\n    text-align: center;\n    color: var(--on-background-variant);\n"]))),wn=x.default.form(ne||(ne=Object(l.a)(["\n    position: absolute;\n    z-index: 500;\n    top: 0;\n    right: 0;\n    left: 0;\n    height: 3rem;\n    border-radius: 4px 4px 0 0;\n    overflow: hidden;\n    background: var(--overlay);\n    backdrop-filter: blur(0.4rem);\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    transition: 0.15s ease-in;\n\n    ",';\n\n    input[type="search"] {\n        margin: 0;\n        border: none;\n    }\n\n    input[type="search"]:focus {\n        border: none;\n        box-shadow: none;\n    }\n'])),(function(e){return e.active&&Object(x.css)(te||(te=Object(l.a)(["\n            border-radius: 4px;\n            background: var(--surface-t);\n            box-shadow: var(--shadow);\n            transition: 0.2s ease-out;\n        "])))})),Cn=x.default.button(ae||(ae=Object(l.a)(['\n    height: 100%;\n    width: 8.5rem;\n    padding: 0;\n    border-radius: 4px 0 0 4px;\n    border: none;\n    color: var(--secondary);\n\n    &::after {\n        content: "";\n        position: absolute;\n        top: calc(50% - 1rem);\n        right: 0;\n        height: 2rem;\n        border-right: 1px solid var(--secondary-variant);\n    }\n']))),In=O.a.button.attrs({unmountOnExit:!0,timeout:{enter:200,exit:150}})(re||(re=Object(l.a)(['\n    height: 100%;\n    padding: 0 1.5rem;\n    margin: 0;\n    border-radius: 0 4px 4px 0;\n    border: none;\n    color: var(--secondary);\n\n    &::after {\n        content: "";\n        position: absolute;\n        top: calc(50% - 1rem);\n        left: 0;\n        height: 2rem;\n        border-left: 1px solid var(--secondary-variant);\n    }\n    \n    &:enter {\n        opacity: 0;\n        transform: translateX(3rem);\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transform: initial;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transform: translateX(3rem);\n        transition: 0.15s ease-in;\n    }\n']))),Sn=function(e){var n=e.createCliente,t=e.setCreateCliente,o=e.setCreatePresupuesto,i=T(),l=i.clienteId,u=i.setClienteId,d=i.vehiculoId,s=i.setVehiculoId,m=i.presupuestoId,p=i.setPresupuestoId,b=i.activeCard,f=i.setActiveCard,h=Object(a.useState)(0),v=Object(c.a)(h,2),g=v[0],y=v[1],x=Object(a.useState)(""),O=Object(c.a)(x,2),k=O[0],w=O[1],C=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,nombre:"",apellido:"",telefono:" ",direccion:"",empresa:"",createdAt:"",updatedAt:""}]}),I=Object(c.a)(C,2),S=I[0],A=I[1],D=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,patente:"",year:"",combustible:"",cilindrada:"",createdAt:"",updatedAt:"",clienteId:0,modeloId:0}]}),$=Object(c.a)(D,2),R=$[0],z=$[1],V=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,patente:"",km:"",motivo:"",labor:"",repuestos:[{cantidad:"",repuesto:"",precio:""}],createdAt:"",updatedAt:"",modeloId:0}]}),B=Object(c.a)(V,2),N=B[0],P=B[1];return Object(a.useEffect)((function(){""!==k&&E.service("clientes").find({query:{$or:[{nombre:{$iLike:"".concat(k,"%")}},{apellido:{$iLike:"".concat(k,"%")}}],$limit:10,$sort:{updatedAt:-1}}}).then((function(e){y((function(e){return e+1})),A(e)})).catch((function(e){console.log("error",e)}))&&E.service("vehiculos").find({query:{patente:{$iLike:"".concat(k,"%")},$limit:10,$sort:{updatedAt:-1}}}).then((function(e){y((function(e){return e+1})),z(e)})).catch((function(e){console.log("error",e)}))&&E.service("presupuestos").find({query:{patente:{$iLike:"".concat(k,"%")},$limit:10,$sort:{updatedAt:-1}}}).then((function(e){y((function(e){return e+1})),P(e)})).catch((function(e){console.log("error",e)}))}),[k]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(jn,{key:g,overlay:"Presupuesto"===b,onClick:function(){f("")}},""===k?r.a.createElement(On,null):N.data[0]||R.data[0]||S.data[0]?r.a.createElement(r.a.Fragment,null,R.data.map((function(e){return r.a.createElement(yn,{key:e.id,vehiculo:e,active:e.clienteId===l})})),N.data.map((function(e){return r.a.createElement(xn,{key:e.id,presupuesto:e,onClick:function(){p(e.id)}})})),S.data.map((function(e){return r.a.createElement(fn,{key:e.id,cliente:e,onClick:function(){u(e.id),s(0)}})}))):r.a.createElement(kn,null,"No se encontraron resultados"))),r.a.createElement(wn,{autoComplete:"off",active:0===d&&0===m},r.a.createElement(Cn,{type:"button",onClick:function(){return o(!0)}},"Presupuesto"),r.a.createElement("input",{type:"search",name:"search",placeholder:"Buscar",onChange:function(e){return Object(a.startTransition)((function(){w(e.target.value)}))},onFocus:function(){s(0),p(0)},value:k,autoFocus:!0}),r.a.createElement(In,{in:!n,type:"button",onClick:function(){t(!0)}},"Crear cliente")))},An=x.default.article(oe||(oe=Object(l.a)(["\n    padding: 1rem 1.5rem;\n    display: grid;\n    gap: 1rem;\n    grid-template-columns: 1fr auto;\n    align-items: center;\n\n    div:first-child {\n        display: grid;\n        gap: 0.5rem;\n        align-items: top;\n    }\n\n    div:last-child {\n        display: grid;\n        justify-items: end;\n        gap: 0.5rem 1rem;\n    }\n"]))),Dn=function(e){var n=e.cliente;return r.a.createElement(An,null,r.a.createElement("div",null,r.a.createElement("h2",null,n.nombre," ",n.apellido),n.email&&r.a.createElement("p",null,n.email)),r.a.createElement("div",null,n.dni&&r.a.createElement("label",null,"DNI",r.a.createElement("span",null,n.dni)),n.telefono&&r.a.createElement("label",null,"Telefono",r.a.createElement("span",null,n.telefono)),n.empresa&&r.a.createElement("label",null,"Empresa",r.a.createElement("span",null,n.empresa))))},$n=O.a.form.attrs({unmountOnExit:!0,timeout:{enter:200,exit:150}})(ie||(ie=Object(l.a)(["\n    will-change: opacity;\n    content-visibility: auto;\n    position: absolute;\n    z-index: 1500;\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    overflow: hidden;\n    border-radius: 4px;\n    border: 1px solid var(--primary);\n    background: var(--primary);\n    box-shadow: var(--shadow);\n    display: grid;\n    gap: 1px;\n    align-items: start;\n\n    label {\n        min-height: 5rem;\n        padding: 0.5rem 1rem 0.75rem 1rem;\n        background: var(--surface);\n        display: grid;\n        align-content: space-between;\n        gap: 0.25rem;\n    }\n\n    &:enter {\n        opacity: 0;\n        transform: translateY(-1rem);\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transform: initial;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transform: translateY(-1rem);\n        transition: 0.15s ease-in;\n    }\n"]))),Rn=x.default.div(ce||(ce=Object(l.a)(['\n    grid-column-start: 1;\n    grid-column-end: span end;\n    width: 100%;\n    height: 3rem;\n    overflow: hidden;\n    background: var(--surface);\n    display: flex;\n    transition: 0.25s ease-out;\n\n    button {\n        width: 100%;\n        height: 3rem;\n        margin: 0;\n        padding: 0 1.5rem;\n        border-radius: 0px;\n        background: none;\n        border: none;\n\n        &:not(:first-child)::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            left: 0;\n            height: 2rem;\n            border-left: 1px solid var(--primary-variant);\n        }\n    }\n']))),zn=function(e){var n=e.edit,t=e.unEdit,a=e.onSubmit,o=e.children,i=e.className,c=e.noButtons;return r.a.createElement($n,{in:n,onSubmit:a,className:i},o,!c&&r.a.createElement(Rn,null,r.a.createElement("button",{type:"button",onClick:t},"Cancelar"),r.a.createElement("button",{type:"submit",onClick:function(){}},"Guardar")))},Vn=Object(x.default)(zn)(le||(le=Object(l.a)(["\n    grid-template-columns: 1fr 1fr [end];\n"]))),Bn=x.default.label(ue||(ue=Object(l.a)(["\n    ",";\n"])),(function(e){return e.error&&Object(x.css)(de||(de=Object(l.a)(["\n            font-weight: 500;\n            color: var(--error);\n        "])))})),Nn=function(e){var n=e.cliente,t=e.edit,o=e.unEdit,i=Object(a.useState)({nombre:"",apellido:"",dni:"",telefono:"",email:"",empresa:""}),l=Object(c.a)(i,2),u=l[0],d=l[1],s=Object(a.useState)(""),m=Object(c.a)(s,2),p=m[0],b=m[1];function f(e){return""===e.nombre?"Ingrese un nombre":""===e.apellido?"Ingrese un apellido":""}var h=function(e){e.persist(),d((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(S.a)({},e.target.name,"nombre"===e.target.name||"apellido"===e.target.name?"string"!==typeof(t=e.target.value)?"":t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "):"email"===e.target.name?e.target.value.toLowerCase():e.target.value));var t}))};return Object(a.useEffect)((function(){d({nombre:n.nombre,apellido:n.apellido,dni:n.dni||"",empresa:n.empresa||"",telefono:n.telefono||"",email:n.email||""})}),[n]),r.a.createElement(Vn,{edit:t,unEdit:o,onSubmit:0===n.id?function(e){e.preventDefault(),b(f(u)),""===f(u)&&E.service("clientes").create({nombre:u.nombre,apellido:u.apellido,dni:u.dni,empresa:u.empresa,telefono:u.telefono,email:u.email,createdAt:Date(),updatedAt:Date()}).then((function(){})).catch((function(e){console.error(e)}))}:function(e){e.preventDefault(),b(f(u)),""===f(u)&&E.service("clientes").patch(n.id,{nombre:u.nombre,apellido:u.apellido,dni:u.dni,empresa:u.empresa,telefono:u.telefono,email:u.email}).then((function(){})).catch((function(e){console.error(e)}))}},r.a.createElement(Bn,{error:""!==p},""===p?"Nombre":p,r.a.createElement("input",{type:"text",name:"nombre",placeholder:"-",autoComplete:"off",value:u.nombre,onChange:h,required:!0})),r.a.createElement(Bn,{error:""!==p},""===p?"Apellido":p,r.a.createElement("input",{type:"text",name:"apellido",placeholder:"-",autoComplete:"off",value:u.apellido,onChange:h,required:!0})),r.a.createElement("label",null,"DNI / CUIT / CUIL",r.a.createElement("input",{type:"text",name:"dni",placeholder:"-",autoComplete:"off",value:u.dni,onChange:h})),r.a.createElement("label",null,"Empresa",r.a.createElement("input",{type:"text",name:"empresa",placeholder:"-",autoComplete:"off",value:u.empresa,onChange:h})),r.a.createElement("label",null,"Telefono",r.a.createElement("input",{type:"tel",pattern:"\\d*",name:"telefono",placeholder:"-",autoComplete:"off",value:u.telefono,onChange:h})),r.a.createElement("label",null,"Correo electr\xf3nico",r.a.createElement("input",{type:"email",name:"email",placeholder:"-",autoComplete:"off",value:u.email,onChange:h})))},Pn=O.a.div(se||(se=Object(l.a)(["\n    position: absolute;\n    z-index: 1001;\n    top: -1px;\n    right: -1px;\n    bottom: -1px;\n    left: -1px;\n    min-height: 3rem;\n    border-radius: 4px;\n    overflow: hidden;\n    background: var(--surface-t);\n    backdrop-filter: blur(0.5rem) saturate(0);\n    border: 1px solid var(--error);\n    display: grid;\n    align-items: center;\n    text-align: center;\n    grid-template-rows: 1fr auto;\n    transition: 0.25s ease-in;\n\n    ",";\n\n    h5 {\n        padding: 0.5rem;\n    }\n\n    &:enter {\n        opacity: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transform: initial;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transition: 0.15s ease-in;\n    }\n"])),(function(e){return e.inline&&Object(x.css)(me||(me=Object(l.a)(["\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            border-radius: 0;\n            border: none;\n            background: var(--primary-variant);\n            box-shadow: var(--shadow-variant);\n            grid-template-rows: 1fr;\n            grid-template-columns: 1fr auto;\n        "])))})),Tn=x.default.div(pe||(pe=Object(l.a)(["\n    position: relative;\n    width: 100%;\n    height: 3rem;\n    overflow: hidden;\n    border-top: 1px solid var(--primary-variant);\n    display: flex;\n    transition: 0.25s ease-out;\n\n    ",';\n\n    button {\n        width: 100%;\n        padding: 0 1.5rem;\n        border-radius: 0px;\n        background: none;\n        border: none;\n\n        &:not(:first-child)::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            left: 0;\n            height: 2rem;\n            border-left: 1px solid var(--primary-variant);\n        }\n    }\n'])),(function(e){return e.inline&&Object(x.css)(be||(be=Object(l.a)(['\n            height: 100%;\n            border-top: none;\n\n            &::after {\n                content: "";\n                position: absolute;\n                top: calc(50% - 1rem);\n                left: 0;\n                height: 2rem;\n                border-left: 1px solid var(--primary-variant);\n            }\n        '])))})),qn=function(e){var n=e.inline,t=e.remove,a=e.unRemove,o=e.handleDelete,i=e.children,c=e.className;return r.a.createElement(Pn,{unmountOnExit:!0,timeout:{enter:200,exit:150},in:t,className:c,inline:n},r.a.createElement("h5",null,i),r.a.createElement(Tn,{inline:n},r.a.createElement("button",{type:"button",onClick:a},"Cancelar"),r.a.createElement("button",{type:"reset",onClick:o},"Borrar")))},Fn=function(e){var n=e.id,t=e.remove,a=e.unRemove;return r.a.createElement(qn,{remove:t,unRemove:a,handleDelete:function(e){e.preventDefault(),E.service("clientes").remove(n).then((function(){})).catch((function(e){console.error(e)}))}},"\xbfBorrar cliente?")},Mn=O.a.div.attrs({unmountOnExit:!0,timeout:{enter:300,exit:150}})(fe||(fe=Object(l.a)(["\n    position: relative;\n    top: 0;\n    grid-column-start: 1;\n    grid-column-end: 1;\n    grid-row-start: 1;\n\n    &:enter {\n        opacity: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transition: 0.15s ease-in;\n    }\n"]))),Ln=x.default.div(he||(he=Object(l.a)(['\n    grid-row: 5;\n    grid-column-start: 1;\n    grid-column-end: span 3;\n    position: relative;\n    width: 100%;\n    height: 3rem;\n    overflow: hidden;\n    border-bottom: 1px solid var(--primary-variant);\n    display: flex;\n\n    button {\n        width: 100%;\n        height: 3rem;\n        padding: 0 1.5rem;\n        border-radius: 0px;\n        background: none;\n        border: none;\n\n        &:not(:first-child)::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            left: 0;\n            height: 2rem;\n            border-left: 1px solid var(--primary-variant);\n        }\n    }\n']))),Un=function(e){var n=e.createCliente,t=T(),o=t.clienteId,i=t.setClienteId,l=t.setVehiculoId,u=t.activeCard,d=t.setActiveCard,s=Object(a.useState)(!1),m=Object(c.a)(s,2),p=m[0],b=m[1],f=Object(a.useState)({id:0,nombre:"",apellido:"",telefono:" ",direccion:"",empresa:"",createdAt:"",updatedAt:""}),h=Object(c.a)(f,2),v=h[0],g=h[1],y=Object(a.useCallback)((function(e){e?E.service("clientes").find({query:{$limit:1,$sort:{updatedAt:-1}}}).then((function(e){g(e.data[0]),i(e.data[0].id),l(0),d("")})).catch((function(e){console.error(e)})):E.service("clientes").get(o).then((function(e){g(e),d("")})).catch((function(e){console.log("error",e)}))}),[o,i,l,d]);return Object(a.useEffect)((function(){E.service("clientes").on("created",(function(){return y(!0)})),E.service("clientes").on("patched",(function(){return y()})),E.service("clientes").on("removed",(function(){return i(0)}))}),[y,i]),Object(a.useEffect)((function(){b(!1),0!==o?y():g({id:0,nombre:"",apellido:"",telefono:" ",direccion:"",empresa:"",createdAt:"",updatedAt:""})}),[o,y]),r.a.createElement(Mn,{in:0!==v.id},r.a.createElement(j.a,null,r.a.createElement(Mn,{key:v.id},r.a.createElement(Ln,null,r.a.createElement("button",{type:"button",onClick:function(){b(!0)}},"Borrar"),r.a.createElement("button",{type:"button",onClick:function(){return d("Cliente")}},"Editar"),r.a.createElement("button",{type:"button",onClick:function(){i(0),l(0)}},"Cerrar")),r.a.createElement(Dn,{cliente:v}),!n&&r.a.createElement(Nn,{cliente:v,edit:"Cliente"===u,unEdit:function(){d("")}}),r.a.createElement(Fn,{id:v.id,remove:p,unRemove:function(){b(!1)}}))))},Wn=t(111),Yn=x.default.div(ve||(ve=Object(l.a)(["\n    position: sticky;\n    top: 0;\n    z-index: 500;\n    height: 3rem;\n    padding: 0 0 3rem 0;\n    border-radius: 4px;\n    background: var(--secondary-variant);\n    backdrop-filter: blur(0.4rem);\n    border: 1px solid var(--secondary);\n    box-shadow: var(--shadow);\n    color: var(--secondary);\n    transition: 0.25s ease-in;\n\n    &:hover {\n        cursor: pointer;\n        transition: 0.2s ease-in;\n    }\n\n    ",";\n\n    ",";\n"])),(function(e){return e.active&&Object(x.css)(ge||(ge=Object(l.a)(["\n            z-index: 1500;\n            box-shadow: none;\n        "])))}),(function(e){return e.variant&&Object(x.css)(ye||(ye=Object(l.a)(["\n            color: var(--primary);\n        "])))})),Gn=x.default.button(Ee||(Ee=Object(l.a)(["\n    position: relative;\n    width: 100%;\n    height: 3rem;\n    overflow: hidden;\n    border: none;\n    color: inherit;\n    transition: 0.25s ease-out;\n"]))),Hn=function(e){var n=e.type,t=e.active,a=e.variant,o=e.onClick,i=e.children,c=e.className;return r.a.createElement(Yn,{active:t,variant:a,className:c},i,r.a.createElement(Gn,{type:"button",onClick:o},"Crear ",n))},Kn=x.default.div(xe||(xe=Object(l.a)(["\n    position: relative;\n    border-radius: 4px;\n    border: 1px solid rgba(0, 0, 0, 0);\n    transition: 0.2s ease-in;\n\n    ",";\n\n    ",";\n\n    ",";\n\n    ",';\n\n    &:not(:first-child)::after {\n        content: "";\n        position: absolute;\n        top: -0.75rem;\n        z-index: 0;\n        width: 100%;\n        border-top: var(--border-variant);\n\n        ',";\n    }\n"])),(function(e){return!e.active&&!e.edit&&Object(x.css)(Oe||(Oe=Object(l.a)(["\n            &:hover {\n                cursor: pointer;\n                background: var(--primary-variant);\n                transition: 0.2s ease-in;\n            }\n        "])))}),(function(e){return e.active&&Object(x.css)(je||(je=Object(l.a)(["\n            position: sticky;\n            top: 4.5rem;\n            bottom: 0;\n            z-index: 1000;\n            background: var(--primary-variant);\n            backdrop-filter: blur(0.4rem);\n            border: 1px solid var(--primary);\n            box-shadow: var(--shadow-variant);\n            transition: 0.2s ease-in;\n\n            &:hover {\n                cursor: default;\n            }\n        "])))}),(function(e){return e.edit&&Object(x.css)(ke||(ke=Object(l.a)(["\n            position: sticky;\n            top: 0;\n            z-index: 1500;\n            backdrop-filter: none;\n            border: 1px solid rgba(0, 0, 0, 0);\n            box-shadow: var(--shadow-variant);\n        "])))}),(function(e){return e.remove&&Object(x.css)(we||(we=Object(l.a)(["\n            backdrop-filter: none;\n        "])))}),(function(e){return e.edit&&Object(x.css)(Ce||(Ce=Object(l.a)(["\n                border-top: 1px solid rgba(0, 0, 0, 0);\n                transition: 0.3s ease-out;\n            "])))})),Jn=O.a.div.attrs({unmountOnExit:!0,timeout:{enter:200,exit:150}})(Ie||(Ie=Object(l.a)(['\n    grid-row: 5;\n    grid-column-start: 1;\n    grid-column-end: span 3;\n    position: relative;\n    width: 100%;\n    height: 3rem;\n    overflow: hidden;\n    border-top: 1px solid var(--primary-variant);\n    display: flex;\n\n    button {\n        width: 100%;\n        height: 3rem;\n        padding: 0 1.5rem;\n        border-radius: 0px;\n        background: none;\n        border: none;\n\n        &:not(:first-child)::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            left: 0;\n            height: 2rem;\n            border-left: 1px solid var(--primary-variant);\n        }\n    }\n\n    &:enter {\n        max-height: 0;\n    }\n\n    &:enter-active {\n        max-height: 3rem;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        max-height: 3rem;\n    }\n\n    &:exit-active {\n        max-height: 0;\n        transition: 0.15s ease-in;\n    }\n']))),Qn=function(e){var n=e.active,t=e.edit,a=e.onEdit,o=e.remove,i=e.onRemove,c=e.children,l=e.className;return r.a.createElement(Kn,{active:n,edit:t,remove:o,className:l},c,r.a.createElement(Jn,{in:n},r.a.createElement("button",{type:"button",onClick:i},"Borrar"),r.a.createElement("button",{type:"button",onClick:a},"Editar")))},Xn=x.default.article(Se||(Se=Object(l.a)(["\n    padding: 1rem 1.5rem;\n    display: grid;\n    grid-auto-flow: column;\n    grid-template-columns: 4.5rem 1fr;\n    align-items: center;\n    gap: 1rem;\n\n    h4 {\n        text-align: right;\n        font: 400 1rem/1.75rem var(--font-family-alt);\n    }\n\n    div {\n        display: grid;\n        gap: 0.5rem;\n    }\n"]))),Zn=function(e){var n=e.vehiculo,t=e.onClick,a=Y().getCarName;return r.a.createElement(Xn,{onClick:t},r.a.createElement("h4",null,n.patente),r.a.createElement("div",null,r.a.createElement("h6",null,a(n.modeloId)),r.a.createElement("p",null,n.combustible," ",n.cilindrada,r.a.createElement("small",null,n.year))),r.a.createElement("p",null,n.vin))},_n=x.default.fieldset(Ae||(Ae=Object(l.a)(['\n    height: 100%;\n    display: grid;\n    grid-auto-flow: column;\n    align-items: center;\n\n    label {\n        position: relative;\n\n        button {\n            position: absolute;\n            bottom: calc(0.75rem + 1px);\n            right: 1rem;\n            padding: 0.25rem 0.5rem;\n            border: none;\n        }\n    }\n\n    input[name="fabricante"],\n    input[name="modelo"] {\n        display: block;\n        appearance: none;\n        width: 100%;\n        padding: 0.25rem 0.5rem;\n        border-radius: 4px;\n        background: rgba(236, 239, 241, 0.7);\n        border: 1px solid rgba(0, 0, 0, 0);\n        outline: none;\n        font: var(--subhead1);\n\n        &:focus {\n            background: var(--primary-variant);\n            border: var(--border-primary);\n            box-shadow: var(--shadow-variant);\n        }\n\n        &:not(:disabled):hover {\n            cursor: pointer;\n            background: var(--primary-variant);\n        }\n\n        &:focus:hover {\n            cursor: text;\n        }\n    }\n\n    input::placeholder {\n        color: var(--on-background);\n    }\n\n    input::-webkit-calendar-picker-indicator {\n        display: none;\n    }\n']))),et=function(e){var n=e.inputs,t=e.setInputs,o=e.onChange,i=e.className,l=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,nombre:"",createdAt:"",updatedAt:""}]}),u=Object(c.a)(l,2),d=u[0],s=u[1],m=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,nombre:"",createdAt:"",updatedAt:"",fabricanteId:0}]}),p=Object(c.a)(m,2),b=p[0],f=p[1],h=Object(a.useState)(""),v=Object(c.a)(h,2),g=v[0],y=v[1],x=Object(a.useState)(""),O=Object(c.a)(x,2),j=O[0],k=O[1],w=Object(a.useCallback)((function(){E.service("fabricantes").find({query:{$limit:100,$sort:{nombre:1}}}).then((function(e){s(e)})).catch((function(e){console.error(e)}))}),[]);return Object(a.useEffect)((function(){w(),E.service("fabricantes").on("created",(function(){return w()})),E.service("fabricantes").on("patched",(function(){return w()})),E.service("fabricantes").on("removed",(function(){return w()}))}),[w]),Object(a.useEffect)((function(){0===n.fabricanteId&&0!==n.modeloId&&E.service("modelos").get(n.modeloId).then((function(e){t((function(n){return Object(A.a)(Object(A.a)({},n),{},{fabricanteId:e.fabricanteId})})),k(e.nombre),E.service("fabricantes").get(e.fabricanteId).then((function(e){y(e.nombre)})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}),[n.fabricanteId,n.modeloId,t]),Object(a.useEffect)((function(){0!==n.fabricanteId&&E.service("modelos").find({query:{fabricanteId:n.fabricanteId,$limit:200,$sort:{nombre:1}}}).then((function(e){f(e)})).catch((function(e){console.error(e)}))}),[n.fabricanteId,t]),Object(a.useEffect)((function(){t((function(e){return Object(A.a)(Object(A.a)({},e),{},{modeloId:0,modelo:""})})),E.service("fabricantes").find({query:{nombre:n.fabricante,$limit:1}}).then((function(e){e.data[0]&&t((function(n){return Object(A.a)(Object(A.a)({},n),{},{fabricanteId:e.data[0].id})})),e.data[0]&&y(e.data[0].nombre),k("")})).catch((function(e){console.error(e)}))}),[n.fabricante,t]),Object(a.useEffect)((function(){E.service("modelos").find({query:{nombre:n.modelo,$limit:1}}).then((function(e){e.data[0]&&t((function(n){return Object(A.a)(Object(A.a)({},n),{},{modeloId:e.data[0].id})})),e.data[0]&&k(e.data[0].nombre)})).catch((function(e){console.error(e)}))}),[n.modelo,t]),r.a.createElement(_n,{className:i},r.a.createElement("label",null,"Marca",r.a.createElement("input",{name:"fabricante",list:"fabricantes",placeholder:g,value:n.fabricante,onChange:o,onBlur:function(){return n.fabricante===g&&t((function(e){return Object(A.a)(Object(A.a)({},e),{},{fabricante:""})}))},autoComplete:"off"}),r.a.createElement("datalist",{id:"fabricantes"},d.data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.nombre},e.nombre)}))),""!==n.fabricante&&n.fabricante!==g&&r.a.createElement("button",{type:"button",onClick:function(){E.service("fabricantes").create({nombre:n.fabricante}).then((function(e){t((function(n){return Object(A.a)(Object(A.a)({},n),{},{fabricanteId:e.id})})),y(e.nombre)})).catch((function(e){console.error(e)}))}},"Crear")),r.a.createElement("label",null,"Modelo",r.a.createElement("input",{name:"modelo",list:"modelos",placeholder:j,value:n.modelo,onChange:o,onBlur:function(){return n.modelo===j&&t((function(e){return Object(A.a)(Object(A.a)({},e),{},{modelo:""})}))},autoComplete:"off",disabled:0===n.fabricanteId}),r.a.createElement("datalist",{id:"modelos"},b.data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.nombre},e.nombre)}))),""!==n.modelo&&n.modelo!==j&&r.a.createElement("button",{type:"button",onClick:function(){E.service("modelos").create({nombre:n.modelo,fabricanteId:n.fabricanteId}).then((function(e){t((function(n){return Object(A.a)(Object(A.a)({},n),{},{modeloId:e.id})})),k(e.nombre)})).catch((function(e){console.error(e)}))}},"Crear")))},nt=Object(x.default)(zn)(De||(De=Object(l.a)(["\n    grid-template-columns: 1fr 1fr 1fr [end];\n"]))),tt=Object(x.default)(et)($e||($e=Object(l.a)(["\n    grid-column-end: span 2;\n    grid-row-end: span 2;\n    grid-auto-flow: row;\n"]))),at=x.default.label(Re||(Re=Object(l.a)(["\n    grid-column-end: span 2;\n"]))),rt=function(e){var n=e.vehiculo,t=e.edit,o=e.unEdit,i=Object(a.useState)({patente:"",year:"",combustible:"Nafta",cilindrada:"",vin:"",clienteId:0,fabricanteId:0,fabricante:"",modeloId:0,modelo:""}),l=Object(c.a)(i,2),u=l[0],d=l[1],s=Object(a.useState)(""),m=Object(c.a)(s,2),p=m[0],b=m[1];function f(e){var n="";return n=0===e.modeloId?"Seleccione un modelo":""===e.patente?"Ingrese la patente":""===e.year?"":/\s/.test(e.vin)?"El vin no puede contener espacios":e.vin&&e.vin.includes("O")?"El vin no puede contener la letra O":e.vin&&e.vin.includes("I")?"El vin no puede contener la letra I":e.vin&&e.vin.includes("Q")?"El vin no puede contener la letra Q":e.vin&&17!==e.vin.length?"El VIN debe contener 17 caracteres":"",b(n),n}var h=function(e){e.persist(),d((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(S.a)({},e.target.name,"patente"===e.target.name||"vin"===e.target.name?e.target.value.toUpperCase():"fabricante"===e.target.name||"modelo"===e.target.name?"string"!==typeof(t=e.target.value)?"":t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "):e.target.value));var t}))};return Object(a.useEffect)((function(){d({patente:n.patente,year:n.year||"",combustible:n.combustible,cilindrada:n.cilindrada||"",vin:n.vin||"",clienteId:n.clienteId,fabricanteId:0,fabricante:"",modeloId:n.modeloId,modelo:""})}),[n]),r.a.createElement(nt,{edit:t,unEdit:o,onSubmit:0===n.id?function(e){e.preventDefault(),""===f(u)&&E.service("vehiculos").create({patente:u.patente,year:u.year,combustible:u.combustible,cilindrada:u.cilindrada,vin:u.vin,clienteId:u.clienteId,modeloId:u.modeloId,createdAt:Date(),updatedAt:Date()}).then((function(){})).catch((function(e){console.error(e)}))}:function(e){e.preventDefault(),""===f(u)&&E.service("vehiculos").patch(n.id,{patente:u.patente,year:u.year,combustible:u.combustible,cilindrada:u.cilindrada,vin:u.vin,clienteId:u.clienteId,modeloId:u.modeloId}).then((function(){})).catch((function(e){console.error(e)}))}},r.a.createElement(tt,{inputs:u,setInputs:d,onChange:h}),r.a.createElement("label",null,"Combustible",r.a.createElement("select",{name:"combustible",value:u.combustible,onChange:h},r.a.createElement("option",{value:"Nafta"},"Nafta"),r.a.createElement("option",{value:"Diesel"},"Diesel"),r.a.createElement("option",{value:"GNC"},"GNC"))),r.a.createElement("label",null,"Cilindrada",r.a.createElement("input",{type:"number",min:"0.1",max:"20",step:"0.1",name:"cilindrada",placeholder:"litros",value:u.cilindrada,onChange:h})),r.a.createElement("label",null,"A\xf1o",r.a.createElement("input",{type:"number",min:"1900",max:"9999",name:"year",placeholder:"-",value:u.year,onChange:h,autoComplete:"off"})),r.a.createElement(at,null,""===p?"VIN":p,r.a.createElement("input",{type:"text",minLength:17,name:"vin",placeholder:"-",autoComplete:"off",value:u.vin,onChange:h})),r.a.createElement("label",null,""===p?"Patente":p,r.a.createElement("input",{type:"text",name:"patente",placeholder:"-",autoComplete:"off",value:u.patente,onChange:h,required:!0})),r.a.createElement(at,null,"Propietario",r.a.createElement("select",{disabled:!0,name:"clienteId",value:u.clienteId,onChange:h},r.a.createElement("option",{value:""},u.clienteId))))},ot=function(e){var n=e.id,t=e.remove,a=e.unRemove;return r.a.createElement(qn,{remove:t,unRemove:a,handleDelete:function(e){e.preventDefault(),E.service("vehiculos").remove(n).then((function(){})).catch((function(e){console.error(e)}))}},"\xbfBorrar vehiculo?")},it=O.a.div.attrs({unmountOnExit:!0,timeout:{enter:300,exit:150}})(ze||(ze=Object(l.a)(["\n    will-change: opacity;\n    overflow: hidden;\n    border-radius: 4px;\n    background: var(--surface);\n    border-top: var(--border-variant);\n    box-shadow: var(--shadow);\n\n    &:enter {\n        opacity: 0;\n        transform: translateY(-1rem);\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transform: initial;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transform: translateY(-1rem);\n        transition: 0.15s ease-in;\n    }\n"]))),ct=Object(O.a)(pn).attrs({unmountOnExit:!0,timeout:{enter:300,exit:150}})(Ve||(Ve=Object(l.a)(["\n    &:enter {\n        opacity: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transition: 0.15s ease-in;\n    }\n"]))),lt=Object(O.a)(Qn).attrs({unmountOnExit:!0,timeout:{enter:200,exit:150}})(Be||(Be=Object(l.a)(["\n    &:enter {\n        opacity: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transition: 0.15s ease-in;\n    }\n\n    ",";\n"])),(function(e){return e.edit&&Object(x.css)(Ne||(Ne=Object(l.a)(["\n            bottom: 15rem;\n        "])))})),ut=x.default.h5(Pe||(Pe=Object(l.a)(["\n    padding: 2rem;\n    text-align: center;\n    color: var(--on-background-variant);\n"]))),dt=function(){var e=T(),n=e.clienteId,t=e.vehiculoId,o=e.setVehiculoId,i=e.activeCard,l=e.setActiveCard,u=Object(a.useState)(!1),d=Object(c.a)(u,2),s=d[0],m=d[1],p=Object(a.useState)(!1),b=Object(c.a)(p,2),f=b[0],h=b[1],v=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,patente:"",year:"",combustible:"",cilindrada:"",createdAt:"",updatedAt:"",clienteId:0,modeloId:0}]}),g=Object(c.a)(v,2),y=g[0],x=g[1],O=Object(a.useCallback)((function(e){E.service("vehiculos").find({query:{$limit:100,clienteId:n,$sort:{updatedAt:-1}}}).then((function(n){n&&x(n),l(""),e&&o(n.data[0].id)})).catch((function(e){console.error(e)}))}),[n,l,o]);return Object(a.useEffect)((function(){E.service("vehiculos").on("created",(function(){return O(!0)})),E.service("vehiculos").on("patched",(function(){return O()})),E.service("vehiculos").on("removed",(function(){O(),o(0)}))}),[O,o]),Object(a.useEffect)((function(){0!==n?O():x({total:0,limit:0,skip:0,data:[{id:0,patente:"",year:"",combustible:"",cilindrada:"",createdAt:"",updatedAt:"",clienteId:0,modeloId:0}]})}),[n,O]),Object(a.useEffect)((function(){h(!1)}),[t]),Object(a.useEffect)((function(){l(s?"Veh\xedculo":"")}),[s,l]),Object(a.useEffect)((function(){"Veh\xedculo"!==i&&m(!1)}),[i]),r.a.createElement(it,{in:0!==y.data[0].clienteId},r.a.createElement(j.a,null,r.a.createElement(ct,{key:y.data[0].clienteId,overlay:"Veh\xedculo"===i||"Cliente"===i,onClick:function(){l("")}},r.a.createElement(Hn,{type:"Veh\xedculo",active:!("Veh\xedculo"!==i||!s),onClick:function(){m(!0)}},r.a.createElement(rt,{vehiculo:{id:0,patente:"",year:"",combustible:"Nafta",cilindrada:"",createdAt:"",updatedAt:"",clienteId:n,modeloId:0},edit:!("Veh\xedculo"!==i||!s),unEdit:function(){m(!1)}})),r.a.createElement(Wn.a,{component:null},y.data[0]&&0!==y.data[0].id?y.data.map((function(e){return r.a.createElement(lt,{key:e.id,active:t===e.id,edit:!s&&t===e.id&&"Veh\xedculo"===i,onEdit:function(){return l("Veh\xedculo")},remove:f,onRemove:function(){h(!0)}},r.a.createElement(Zn,{vehiculo:e,onClick:function(){return t===e.id?o(0):o(e.id)}}),t===e.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,{vehiculo:e,edit:!s&&"Veh\xedculo"===i,unEdit:function(){l("")}}),r.a.createElement(ot,{id:e.id,remove:f,unRemove:function(){h(!1)}})))})):r.a.createElement(ut,null,"No se encontraron vehiculos")))))},st=x.default.article(Te||(Te=Object(l.a)(["\n    padding: 1.5rem 2rem;\n    display: grid;\n    grid-template-columns: auto 1fr auto;\n    gap: 1rem;\n"]))),mt=x.default.div(qe||(qe=Object(l.a)(["\n    text-align: right;\n"]))),pt=function(e){var n=e.reparacion,t=e.onClick;return r.a.createElement(st,{onClick:t},r.a.createElement("h5",null,n.createdAt&&Intl.DateTimeFormat("default",{year:"numeric",month:"long",day:"numeric"}).format(new Date(n.createdAt)),r.a.createElement("small",null,n.km," km")),r.a.createElement(mt,null,"Total"),r.a.createElement("h4",null,"$",parseInt(n.costo,10)+parseInt(n.labor,10)),r.a.createElement("div",null,r.a.createElement("h4",null,n.reparacion)),r.a.createElement(mt,null,r.a.createElement("h6",null,"$",n.labor)),r.a.createElement("label",null,"Mano de obra"),r.a.createElement("p",null,n.repuestos),r.a.createElement(mt,null,r.a.createElement("h6",null,"$",n.costo)),r.a.createElement("label",null,"Repuestos"))},bt=Object(x.default)(zn)(Fe||(Fe=Object(l.a)(["\n    grid-template-columns: auto 1fr auto [end];\n"]))),ft=x.default.label(Me||(Me=Object(l.a)(["\n    ",";\n"])),(function(e){return e.error&&Object(x.css)(Le||(Le=Object(l.a)(["\n            font-weight: 500;\n            color: var(--error-variant);\n        "])))})),ht=x.default.label(Ue||(Ue=Object(l.a)(["\n    grid-column-end: span 2;\n\n    ",";\n"])),(function(e){return e.error&&Object(x.css)(We||(We=Object(l.a)(["\n            font-weight: 500;\n            color: var(--error-variant);\n        "])))})),vt=x.default.label(Ye||(Ye=Object(l.a)(["\n    grid-column-start: 3;\n    text-align: right;\n"]))),gt=function(e){var n=e.reparacion,t=e.edit,o=e.unEdit,i=Object(a.useState)({fecha:"",km:"",reparacion:"",repuestos:"",labor:"",costo:"",vehiculoId:0}),l=Object(c.a)(i,2),u=l[0],d=l[1],s=Object(a.useState)({km:"",reparacion:""}),m=Object(c.a)(s,2),p=m[0],b=m[1],f=function(e){""===e.km?b((function(e){return Object(A.a)(Object(A.a)({},e),{},{km:"Ingrese el kilometraje"})})):b((function(e){return Object(A.a)(Object(A.a)({},e),{},{km:""})})),""===e.reparacion?b((function(e){return Object(A.a)(Object(A.a)({},e),{},{reparacion:"Ingrese la reparaci\xf3n"})})):b((function(e){return Object(A.a)(Object(A.a)({},e),{},{reparacion:""})}))},h=function(e){e.persist(),d((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(S.a)({},e.target.name,(e.target.name,(t=e.target.value).charAt(0).toUpperCase()+t.substring(1))));var t}))};return Object(a.useEffect)((function(){d({fecha:n.createdAt.substring(0,10),km:n.km,reparacion:n.reparacion,repuestos:n.repuestos,labor:n.labor,costo:n.costo,vehiculoId:n.vehiculoId}),b({km:"",reparacion:""})}),[n]),r.a.createElement(bt,{edit:t,unEdit:o,onSubmit:0===n.id?function(e){e.preventDefault(),f(u),""===p.km&&""===p.reparacion&&E.service("reparaciones").create({km:parseInt(u.km),reparacion:u.reparacion,repuestos:u.repuestos,costo:u.costo,labor:u.labor,createdAt:new Date(u.fecha).toISOString(),updatedAt:(new Date).toISOString(),vehiculoId:u.vehiculoId}).then((function(){})).catch((function(e){console.error(e)}))}:function(e){e.preventDefault(),f(u),""===p.km&&""===p.reparacion&&E.service("reparaciones").patch(n.id,{km:parseInt(u.km),reparacion:u.reparacion,repuestos:u.repuestos,costo:u.costo,labor:u.labor,createdAt:new Date(u.fecha).toISOString()}).then((function(){})).catch((function(e){console.error(e)}))}},r.a.createElement("label",null,"Fecha",r.a.createElement("input",{type:"date",name:"fecha",placeholder:"-",value:u.fecha,onChange:h,required:!0})),r.a.createElement(ft,{error:""!==p.km},""===p.km?"KM":p.km,r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"km",placeholder:n.km,value:u.km,onChange:h})),r.a.createElement(vt,null,"Total",r.a.createElement("h4",null,"$",(parseInt(u.costo,10)||0)+(parseInt(u.labor,10)||0))),r.a.createElement(ht,{error:""!==p.reparacion},""===p.reparacion?"Reparaci\xf3n":p.reparacion,r.a.createElement("input",{type:"text",name:"reparacion",placeholder:"-",value:u.reparacion,onChange:h,autoComplete:"off",required:!0})),r.a.createElement(vt,null,"Mano de obra",r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"labor",placeholder:"$0",value:u.labor,onChange:h})),r.a.createElement(ht,null,"Repuestos",r.a.createElement("input",{type:"text",name:"repuestos",placeholder:"-",value:u.repuestos,onChange:h,autoComplete:"off"})),r.a.createElement(vt,null,"Repuestos",r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"costo",placeholder:"$0",value:u.costo,onChange:h})))},yt=function(e){var n=e.id,t=e.remove,a=e.unRemove;return r.a.createElement(qn,{remove:t,unRemove:a,handleDelete:function(e){e.preventDefault(),E.service("reparaciones").remove(n).then((function(){})).catch((function(e){console.error(e)}))}},"\xbfBorrar reparaci\xf3n?")},Et=O.a.div.attrs({unmountOnExit:!0,timeout:{enter:300,exit:150}})(Ge||(Ge=Object(l.a)(["\n    will-change: opacity;\n    position: absolute;\n    z-index: 600;\n    top: 3rem;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    overflow: hidden;\n    border-radius: 4px;\n    background: var(--surface);\n    border-top: var(--border-variant);\n    box-shadow: var(--shadow);\n\n    &:enter {\n        opacity: 0;\n        transform: translateY(-1rem);\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transform: initial;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transform: translateY(-1rem);\n        transition: 0.15s ease-in;\n    }\n"]))),xt=Object(O.a)(pn).attrs({unmountOnExit:!0,timeout:{enter:300,exit:150}})(He||(He=Object(l.a)(["\n    &:enter {\n        opacity: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transition: 0.15s ease-in;\n    }\n\n    ",";\n"])),(function(e){return e.edit&&Object(x.css)(Ke||(Ke=Object(l.a)(["\n            bottom: 6rem;\n        "])))})),Ot=Object(O.a)(Qn).attrs({unmountOnExit:!0,timeout:{enter:200,exit:150}})(Je||(Je=Object(l.a)(["\n    &:enter {\n        opacity: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transition: 0.15s ease-in;\n    }\n"]))),jt=x.default.h5(Qe||(Qe=Object(l.a)(["\n    padding: 2rem;\n    text-align: center;\n    color: var(--on-background-variant);\n"]))),kt=function(){var e=T(),n=e.vehiculoId,t=e.activeCard,o=e.setActiveCard,i=Object(a.useState)(0),l=Object(c.a)(i,2),u=l[0],d=l[1],s=Object(a.useState)(0),m=Object(c.a)(s,2),p=m[0],b=m[1],f=Object(a.useState)(!1),h=Object(c.a)(f,2),v=h[0],g=h[1],y=Object(a.useState)(!1),x=Object(c.a)(y,2),O=x[0],k=x[1],w=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,vehiculoId:"",reparacion:"",repuestos:"",labor:"",costo:"",km:"0",createdAt:"",updatedAt:""}]}),C=Object(c.a)(w,2),I=C[0],S=C[1],A=Object(a.useCallback)((function(e){E.service("reparaciones").find({query:{vehiculoId:n,$limit:100,$sort:{createdAt:-1}}}).then((function(n){d((function(e){return e+1})),S(n),o(""),e&&b(n.data[0].id)})).catch((function(e){console.log("error",e)}))}),[n,o]);return Object(a.useEffect)((function(){E.service("reparaciones").on("created",(function(){return A(!0)})),E.service("reparaciones").on("patched",(function(){return A()})),E.service("reparaciones").on("removed",(function(){A(),b(0)}))}),[A]),Object(a.useEffect)((function(){0!==n?A():S({total:0,limit:0,skip:0,data:[{id:0,vehiculoId:"",reparacion:"",repuestos:"",labor:"",costo:"",km:"0",createdAt:"",updatedAt:""}]}),b(0)}),[n,A]),Object(a.useEffect)((function(){k(!1)}),[p]),Object(a.useEffect)((function(){"Reparaci\xf3n"!==t&&g(!1)}),[t]),Object(a.useEffect)((function(){o(v?"Reparaci\xf3n":"")}),[v,o]),r.a.createElement(Et,{in:!I.data[0]||0!==I.data[0].id},r.a.createElement(j.a,null,r.a.createElement(xt,{key:u,overlay:""!==t,onClick:function(){o("")}},r.a.createElement(Hn,{type:"Reparaci\xf3n",active:!("Reparaci\xf3n"!==t||!v),onClick:function(){return g(!0)}},r.a.createElement(gt,{reparacion:{id:0,vehiculoId:n,reparacion:"",repuestos:"",labor:"0",costo:"0",km:I.data[0]?I.data[0].km:"0",createdAt:(new Date).toISOString(),updatedAt:""},edit:!("Reparaci\xf3n"!==t||!v),unEdit:function(){o("")}})),I.data[0]?r.a.createElement(Wn.a,{component:null},0!==I.data[0].id&&I.data.map((function(e){return r.a.createElement(Ot,{key:e.id,active:p===e.id,edit:!v&&p===e.id&&"Reparaci\xf3n"===t,onEdit:function(){return o("Reparaci\xf3n")},remove:O,onRemove:function(){k(!0)}},r.a.createElement(pt,{reparacion:e,onClick:function(){p===e.id?b(0):b(e.id)}}),p===e.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{reparacion:e,edit:"Reparaci\xf3n"===t&&!v,unEdit:function(){o("")}}),r.a.createElement(yt,{id:e.id,remove:O,unRemove:function(){k(!1)}})))}))):r.a.createElement(jt,null,"No se encontraron reparaciones"))))},wt=t(20),Ct=function(e){var n=e.turno,t=e.edit,o=e.unEdit,i=Object(a.useState)({fecha:"",motivo:"",fabricanteId:0,fabricante:"",modeloId:0,modelo:""}),l=Object(c.a)(i,2),u=l[0],d=l[1];function s(e){return 0===e.modeloId?"Seleccione un modelo":""===e.motivo?"Ingrese el motivo":""}var m=function(e){e.persist(),d((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(S.a)({},e.target.name,"motivo"===e.target.name?"string"!==typeof(t=e.target.value)?"":t.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" "):e.target.value));var t}))};return Object(a.useEffect)((function(){d({fecha:n.fecha,motivo:n.motivo,fabricanteId:0,fabricante:"",modeloId:n.modeloId,modelo:""})}),[n]),r.a.createElement(zn,{edit:t,unEdit:o,onSubmit:0===n.id?function(e){e.preventDefault(),""===s(u)&&E.service("turnos").create({fecha:u.fecha,motivo:u.motivo,modeloId:u.modeloId}).then((function(){})).catch((function(e){console.error(e)}))}:function(e){e.preventDefault(),""===s(u)&&E.service("turnos").patch(n.id,{fecha:u.fecha,motivo:u.motivo,modeloId:u.modeloId}).then((function(){})).catch((function(e){console.error(e)}))}},r.a.createElement("label",null,"Motivo",r.a.createElement("input",{type:"text",name:"motivo",placeholder:"-",autoComplete:"off",value:u.motivo,onChange:m})),r.a.createElement(et,{inputs:u,setInputs:d,onChange:m}))},It=x.default.div(Xe||(Xe=Object(l.a)(["\n    position: relative;\n    padding: 0.75rem 1.5rem;\n    display: grid;\n    align-items: start;\n    grid-template-columns: 3rem 1fr;\n    gap: 1.5rem;\n    transition: 0.15s ease-in;\n\n    ",';\n\n    &::after {\n        content: "";\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: 0;\n        border-bottom: var(--border-variant);\n\n        ',";\n    }\n"])),(function(e){return e.active&&Object(x.css)(Ze||(Ze=Object(l.a)(["\n            position: sticky;\n            top: 0;\n            bottom: 10.75rem;\n            z-index: 1500;\n            transition: 0.2s ease-out;\n        "])))}),(function(e){return e.active&&Object(x.css)(_e||(_e=Object(l.a)(["\n                transition: 0.2s ease-out;\n                border-bottom: 1px solid rgba(0, 0, 0, 0);\n            "])))})),St=x.default.div(en||(en=Object(l.a)(["\n    position: relative;\n    height: 3rem;\n    padding: 0 0.5rem;\n    text-transform: uppercase;\n    text-align: center;\n    display: grid;\n    grid-template-rows: auto auto;\n\n    h3 {\n        font: 400 1.25rem/1.75rem var(--font-family-alt);\n    }\n\n    p {\n        font: 400 0.9rem/1.25rem var(--font-family-alt);\n    }\n\n    ",";\n\n    ",";\n"])),(function(e){return e.inactive&&Object(x.css)(nn||(nn=Object(l.a)(["\n            & > * {\n                color: var(--on-background-variant);\n            }\n        "])))}),(function(e){return e.active&&Object(x.css)(tn||(tn=Object(l.a)(["\n            & > * {\n                color: var(--secondary);\n            }\n        "])))})),At=x.default.div(an||(an=Object(l.a)(["\n    position: relative;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: column;\n    transition: 0.15s ease-in;\n\n    ",";\n"])),(function(e){return e.active&&Object(x.css)(rn||(rn=Object(l.a)(["\n            background: var(--surface-t);\n            box-shadow: var(--shadow);\n        "])))})),Dt=Object(x.default)(Hn)(on||(on=Object(l.a)(["\n    position: relative;\n    backdrop-filter: none;\n    background: none;\n    border: none;\n    box-shadow: none;\n"]))),$t=O.a.div(cn||(cn=Object(l.a)(['\n    position: relative;\n    min-height: 3rem;\n    display: grid;\n    grid-template-columns: 1fr auto;\n\n    h6 {\n        padding: 0.5rem 1.5rem;\n    }\n\n    button {\n        border: none;\n\n        &:not(:first-child)::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            left: 0;\n            height: 2rem;\n            border-left: var(--border-variant);\n        }\n    }\n\n    &:nth-child(2) {\n        border-top: var(--border-variant);\n    }\n\n    &:enter {\n        opacity: 0;\n        max-height: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        max-height: 3rem;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n        max-height: 3rem;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        max-height: 0;\n        transition: 0.15s ease-in;\n    }\n']))),Rt=function(e){var n=e.date,t=e.turnos,o=e.current,i=e.active,l=e.setActive,u=e.unActive,d=Y().getCarName,s=Object(a.useState)(0),m=Object(c.a)(s,2),p=m[0],b=m[1];return Object(a.useEffect)((function(){b(0)}),[t]),r.a.createElement(It,{active:i},r.a.createElement(St,{active:o,inactive:-1!==[0,6].indexOf(new Date(n[0],n[1],n[2]).getDay()),onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement("h3",null,n[2]),r.a.createElement("p",null,new Date(n[0],n[1],n[2]).toLocaleDateString("default",{weekday:"short"}).substring(0,3))),r.a.createElement(At,{active:t[0]&&0!==t[0].id},r.a.createElement(Dt,{type:"Turno",active:i,variant:!o,onClick:l},r.a.createElement(Ct,{turno:{id:0,fecha:"".concat(n[0],"-").concat((n[1]+1).toString().padStart(2,"0"),"-").concat(n[2].toString().padStart(2,"0")),motivo:"",createdAt:"",updatedAt:"",modeloId:0},edit:i,unEdit:u})),r.a.createElement(Wn.a,{component:null},t[0]&&0!==t[0].id&&t.map((function(e){return r.a.createElement($t,{key:e.id,unmountOnExit:!0,timeout:{enter:200,exit:150}},r.a.createElement("h6",null,e.motivo,r.a.createElement("span",null,d(e.modeloId))),r.a.createElement("button",{type:"button",onClick:function(){return b(e.id)}},"Borrar"),r.a.createElement(qn,{inline:!0,remove:p===e.id,unRemove:function(){b(0)},handleDelete:function(){return n=e.id,void E.service("turnos").remove(n).then((function(){})).catch((function(e){console.error(e)}));var n}},"\xbfBorrar turno?"))})))))},zt=Object(x.default)(pn)(ln||(ln=Object(l.a)(["\n    padding: 0;\n    gap: 0;\n"]))),Vt=x.default.div(un||(un=Object(l.a)(["\n    position: sticky;\n    top: 0;\n    z-index: 900;\n    width: 100%;\n    min-height: 3rem;\n    padding: 0.5rem 1.5rem;\n    border-radius: 4px;\n    background: var(--surface-t);\n    backdrop-filter: blur(0.4rem);\n    box-shadow: var(--shadow);\n    display: grid;\n    grid-template-columns: 1fr auto;\n    align-items: center;\n    text-transform: capitalize;\n\n    h6 {\n        color: var(--on-background-variant);\n    }\n"]))),Bt=x.default.div(dn||(dn=Object(l.a)(["\n    @keyframes loading {\n        0% {\n            opacity: 0.5;\n        }\n        50% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0.5;\n        }\n    }\n\n    padding: 2rem 0;\n    text-align: center;\n    animation-name: loading;\n    animation-duration: 2s;\n    animation-iteration-count: infinite;\n"]))),Nt=function(e){for(var n=e.overlay,t=T(),o=t.activeCard,i=t.setActiveCard,l=Object(a.useRef)(null),u=Object(a.useState)(""),d=Object(c.a)(u,2),s=d[0],m=d[1],p=(new Date).getFullYear(),b=(new Date).getMonth(),f=[],h=(new Date).getDate();h<=32-new Date(p,b,32).getDate();h++)f.push(h);var v=Object(a.useState)([{year:p,month:b,days:f}]),g=Object(c.a)(v,2),y=g[0],x=g[1],O=Object(a.useState)({total:0,limit:0,skip:0,data:[{id:0,fecha:"",motivo:"",createdAt:"",updatedAt:"",modeloId:0}]}),j=Object(c.a)(O,2),k=j[0],w=j[1],C=Object(a.useCallback)((function(){for(var e=11===y[y.length-1].month?y[y.length-1].year+1:y[y.length-1].year,n=11===y[y.length-1].month?0:y[y.length-1].month+1,t=[],a=1;a<=32-new Date(e,n,32).getDate();a++)t.push(a);x((function(a){return[].concat(Object(wt.a)(a.filter((function(e,n){return a.findIndex((function(n){return n.year===e.year&&n.month===e.month}))===n}))),[{year:e,month:n,days:t}])}))}),[y]),I=Object(a.useCallback)((function(e){e[0].isIntersecting&&C()}),[C]),S=Object(a.useCallback)((function(){E.service("turnos").find({query:{fecha:{$gt:(new Date).getTime()-864e5},$limit:50,$sort:{fecha:1}}}).then((function(e){w(e),i("")})).catch((function(e){console.error(e)}))}),[i]);return Object(a.useEffect)((function(){l.current&&new IntersectionObserver(I,{root:null,rootMargin:"20px",threshold:0}).observe(l.current)}),[I]),Object(a.useEffect)((function(){S(),E.service("turnos").on("created",(function(){return S()})),E.service("turnos").on("removed",(function(){return S()}))}),[S]),Object(a.useEffect)((function(){i(""!==s?"Turno":"")}),[s,i]),Object(a.useEffect)((function(){"Turno"!==o&&m("")}),[o]),r.a.createElement(zt,{overlay:!("Turno"!==o&&"Cliente"!==o&&!n),onClick:function(){i("")}},y.map((function(e,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vt,{key:"".concat(e.year,"-").concat((e.month+1).toString().padStart(2,"0"))},r.a.createElement("h4",null,new Date(e.year,e.month,1).toLocaleDateString("default",{month:"long"})),r.a.createElement("h6",null,e.year)),e.days.map((function(t,a){return r.a.createElement(Rt,{key:"".concat(e.year,"-").concat((e.month+1).toString().padStart(2,"0"),"-").concat(t.toString().padStart(2,"0")),date:[e.year,e.month,t],turnos:k.data.filter((function(n){return n.fecha.substring(0,10)==="".concat(e.year,"-").concat((e.month+1).toString().padStart(2,"0"),"-").concat(t.toString().padStart(2,"0"))})),current:0===n&&0===a,active:s==="".concat(e.year,"-").concat((e.month+1).toString().padStart(2,"0"),"-").concat(t.toString().padStart(2,"0"))&&"Turno"===o,setActive:function(){m("".concat(e.year,"-").concat((e.month+1).toString().padStart(2,"0"),"-").concat(t.toString().padStart(2,"0")))},unActive:function(){return i("")}})})))})),r.a.createElement(Bt,{ref:l},"Loading..."))},Pt=t(6);var Tt,qt,Ft,Mt,Lt,Ut,Wt,Yt,Gt,Ht,Kt,Jt,Qt,Xt=function(e){var n=e.user,t=e.factura,a=e.presupuesto,o=Y().getCarName;return r.a.createElement(Pt.Box,{cellSpacing:30,width:"700"},r.a.createElement(Pt.Item,null,r.a.createElement(Pt.Box,{cellSpacing:30,width:"100%",align:"center",style:{borderBottom:"1px solid grey"}},r.a.createElement(Pt.Item,{align:"center"},r.a.createElement(Pt.Span,{fontSize:16},"montiel"===n?"Inyeccion Electronica - Airbag - ABS - Alarmas - Accesorios":"SERVICIO ESPECIALIZADO FORD")),r.a.createElement(Pt.Item,{align:"center"},r.a.createElement(Pt.Span,{fontSize:34},"montiel"===n?"Taller Montiel":"Gabriel Mezzanotte")),r.a.createElement(Pt.Item,{align:"center"},r.a.createElement(Pt.Span,{fontSize:16},"montiel"===n?"Vertiz 8190 - (0223) 155-063679 - montielelectroauto@gmail.com":"La Pampa 2265 - (0223) 475-2335 - gabimezzanotte@gmail.com (7600) Mar del Plata")))),r.a.createElement(Pt.Item,null,r.a.createElement(Pt.Box,{cellSpacing:20,width:"100%"},r.a.createElement(Pt.Item,null,r.a.createElement(Pt.Span,{fontSize:20,lineHeight:40},"Presupuesto -"," ",a.createdAt.substring(8,10)," de"," ",new Date(a.createdAt).toLocaleDateString("default",{month:"long"})))),r.a.createElement(Pt.Box,{cellSpacing:5,cellPadding:10,width:"100%",style:{border:"1px solid grey",borderRadius:"2px"}},r.a.createElement("tr",null,r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Patente"),r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Vehiculo"),r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Kilometros")),r.a.createElement("tr",null,r.a.createElement("td",null,a.patente.toUpperCase()),r.a.createElement("td",null,o(a.modeloId)),r.a.createElement("td",{align:"right"},a.km))),r.a.createElement(Pt.Box,{cellSpacing:20,width:"100%"},r.a.createElement(Pt.Item,null,r.a.createElement(Pt.Span,{fontSize:20,lineHeight:40},"Reparacion"))),r.a.createElement(Pt.Box,{cellSpacing:5,cellPadding:10,width:"100%",style:{border:"1px solid grey",borderRadius:"2px"}},r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2,style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Motivo"),r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Mano de obra")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},a.motivo),r.a.createElement("td",{align:"right"},a.labor,"$")),r.a.createElement("tr",null,r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Cantidad"),r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Repuesto"),r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Precio")),a.repuestos.length?a.repuestos.map((function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",{align:"center"},e.cantidad),r.a.createElement("td",null,e.repuesto),r.a.createElement("td",{align:"right"},e.precio,"$"))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"No se detallaron repuestos"),r.a.createElement("td",{align:"right"},"0$")),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:2}),r.a.createElement("th",{style:{border:"1px solid grey",borderRadius:"2px",fontWeight:500}},"Total")),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:2},"Facturar a: ",t),r.a.createElement("td",{align:"right"},parseInt(a.labor,10)+a.repuestos.reduce((function(e,n){return e+n.precio}),0),"$")))),r.a.createElement(Pt.Item,null,r.a.createElement(Pt.Box,{cellSpacing:20,width:"100%",style:{borderTop:"1px solid grey"}},r.a.createElement(Pt.Item,{align:"right"},r.a.createElement(Pt.Span,{color:"gray",lineHeight:20},"\xa9 2021"," ",r.a.createElement(Pt.A,{href:"https://calarco.com.ar"},"CalarcoWEB"))))))},Zt=Object(O.a)(pn).attrs({unmountOnExit:!0,timeout:{enter:300,exit:150}})(Tt||(Tt=Object(l.a)(["\n    will-change: opacity;\n    position: absolute;\n    z-index: 600;\n    top: 3rem;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    height: auto;\n    overflow: overlay;\n    border-radius: 4px;\n    background: var(--surface);\n    border-top: var(--border-variant);\n    box-shadow: var(--shadow);\n    display: grid;\n    align-items: start;\n    justify-items: center;\n    gap: 0;\n\n    &:enter {\n        opacity: 0;\n        transform: translateY(-1rem);\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transform: initial;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transform: translateY(-1rem);\n        transition: 0.15s ease-in;\n    }\n"]))),_t=x.default.div(qt||(qt=Object(l.a)(['\n    position: sticky;\n    top: 0;\n    width: 100%;\n    height: 3rem;\n    overflow: hidden;\n    border-radius: 4px;\n    background: var(--primary-variant);\n    backdrop-filter: blur(0.4rem);\n    border: 1px solid var(--primary);\n    box-shadow: var(--shadow);\n    display: grid;\n    grid-template-columns: 2fr 3fr 2fr;\n    align-items: center;\n    gap: 0.5rem;\n    transition: 0.25s ease-out;\n\n    button {\n        width: 100%;\n        height: 3rem;\n        margin: 0;\n        padding: 0 1.5rem;\n        border-radius: 0px;\n        background: none;\n        border: none;\n\n        &:first-child::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            right: 0;\n            height: 2rem;\n            border-right: 1px solid var(--primary-variant);\n        }\n    }\n']))),ea=function(){var e=T(),n=e.presupuestoId,t=e.setPresupuestoId,o=e.activeCard,i=e.setActiveCard,l=Object(a.useState)({id:0,patente:"",km:"",motivo:"",labor:"",repuestos:[{cantidad:"",repuesto:"",precio:""}],createdAt:"",updatedAt:"",modeloId:0}),u=Object(c.a)(l,2),d=u[0],s=u[1],m=Object(a.useState)({email:""}),p=Object(c.a)(m,2),b=p[0],f=p[1],h=Object(a.useCallback)((function(e){e?E.service("presupuestos").find({query:{$limit:1,$sort:{updatedAt:-1}}}).then((function(e){s(e.data[0]),t(e.data[0].id),i("")})).catch((function(e){console.error(e)})):E.service("presupuestos").get(n).then((function(e){s(e)})).catch((function(e){console.log("error",e)}))}),[n,t,i]);return Object(a.useEffect)((function(){E.service("presupuestos").on("created",(function(){return h(!0)})),E.service("presupuestos").on("removed",(function(){return t(0)}))}),[h,t]),Object(a.useEffect)((function(){0!==n?h():s({id:0,patente:"",km:"",motivo:"",labor:"",repuestos:[{cantidad:"",repuesto:"",precio:""}],createdAt:"",updatedAt:"",modeloId:0})}),[n,h]),r.a.createElement(Zt,{in:0!==d.id,overlay:"Presupuesto"===o,onClick:function(){i("")}},r.a.createElement(_t,null,r.a.createElement("button",{type:"button"},"Borrar"),r.a.createElement("input",{type:"email",name:"email",placeholder:"Direccion de correo",value:b.email,onChange:function(e){e.persist(),f((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(S.a)({},e.target.name,e.target.value))}))}}),r.a.createElement("button",{type:"submit"},"Enviar")),r.a.createElement(Xt,{user:"montiel",factura:"mezannotte",presupuesto:d}))},na=Object(x.default)(zn)(Ft||(Ft=Object(l.a)(['\n    grid-template-columns: 3fr 4fr 3fr 3fr [end];\n\n    label:nth-child(4) {\n        grid-column-end: span 2;\n    }\n\n    input[name="labor"],\n    input[name="cantidad"],\n    input[name="precio"] {\n        text-align: right;\n    }\n']))),ta=Object(x.default)(et)(Mt||(Mt=Object(l.a)(["\n    grid-column-end: span 2;\n"]))),aa=x.default.div(Lt||(Lt=Object(l.a)(['\n    grid-column-end: span 4;\n    min-height: 5.25rem;\n    padding: 0.5rem 1rem 0.75rem 1rem;\n    background: var(--surface);\n    display: grid;\n    align-content: space-between;\n    gap: 0.25rem;\n    font: var(--label);\n    color: var(--on-background-variant);\n\n    ul {\n        margin: 0;\n        padding: 0;\n        border-radius: 4px;\n        border: var(--border-variant);\n\n        li {\n            height: 2.5rem;\n            display: grid;\n            grid-template-columns: 5rem 1fr 8rem 8rem;\n            align-items: center;\n\n            &:first-child {\n                border-radius: 4px;\n                background: rgba(236, 239, 241, 0.7);\n\n                &:focus-within {\n                    box-shadow: var(--shadow-variant);\n                }\n            }\n\n            input {\n                position: relative;\n                height: 100%;\n                border-radius: 0;\n                border: 1px solid rgba(0, 0, 0, 0);\n\n                &:first-child {\n                    border-radius: 4px 0 0 4px;\n                }\n\n                &:not(:first-child)::after {\n                    content: "";\n                    position: absolute;\n                    top: calc(50% - 1rem);\n                    left: 0;\n                    height: 2rem;\n                    border-left: var(--border-variant);\n                }\n            }\n\n            button {\n                height: 100%;\n                padding: 0;\n                border-radius: 0 4px 4px 0;\n                border: 1px solid rgba(0, 0, 0, 0);\n\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: calc(50% - 0.75rem);\n                    left: 0;\n                    height: 1.5rem;\n                    border-left: 1px solid var(--primary-variant);\n                }\n            }\n        }\n    }\n']))),ra=O.a.li(Ut||(Ut=Object(l.a)(['\n    height: 2.5rem;\n    display: grid;\n    grid-template-columns: 5rem 1fr 8rem 8rem;\n    align-items: center;\n\n    p {\n        position: relative;\n        padding: 0.25rem 1rem;\n\n        &:nth-child(3),\n        &:first-child {\n            text-align: right;\n            font: 400 0.9rem/1.25rem var(--font-family-alt);\n        }\n    }\n\n    button {\n        height: 100%;\n        padding: 0;\n        border-radius: 0 4px 4px 0;\n        border: 1px solid rgba(0, 0, 0, 0);\n\n        &::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 0.75rem);\n            left: 0;\n            height: 1.5rem;\n            border-left: 1px solid var(--primary-variant);\n        }\n    }\n\n    &:enter {\n        opacity: 0;\n        max-height: 0;\n    }\n\n    &:enter-active {\n        opacity: 1;\n        max-height: 3rem;\n        transition: 0.2s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n        max-height: 3rem;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        max-height: 0;\n        transition: 0.15s ease-in;\n    }\n']))),oa=x.default.div(Wt||(Wt=Object(l.a)(['\n    grid-column-start: 1;\n    grid-column-end: span end;\n    width: 100%;\n    height: 3rem;\n    overflow: hidden;\n    background: var(--surface);\n    display: grid;\n    grid-template-columns: 2fr 3fr 2fr;\n    align-items: center;\n    gap: 0.5rem;\n    transition: 0.25s ease-out;\n\n    button {\n        width: 100%;\n        height: 3rem;\n        margin: 0;\n        padding: 0 1.5rem;\n        border-radius: 0px;\n        background: none;\n        border: none;\n\n        &:first-child::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 1rem);\n            right: 0;\n            height: 2rem;\n            border-right: 1px solid var(--primary-variant);\n        }\n    }\n']))),ia=function(e){var n=e.edit,t=e.unEdit,o=Object(a.useState)({patente:"",km:"",motivo:"",labor:"",fabricanteId:0,fabricante:"",modeloId:0,modelo:"",cantidad:"1",repuesto:"",precio:"",email:"",factura:""}),i=Object(c.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)([{cantidad:"1",repuesto:"",precio:""}]),s=Object(c.a)(d,2),m=s[0],p=s[1],b=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};var f=function(e){e.persist(),u((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(S.a)({},e.target.name,"motivo"===e.target.name?b(e.target.value):e.target.value))}))};return r.a.createElement(na,{edit:n,unEdit:t,onSubmit:function(e){e.preventDefault(),""===function(e){return 0===e.modeloId?"Seleccione un modelo":""===e.motivo?"Ingrese el motivo":""}(l)&&E.service("presupuestos").create({patente:l.patente.toUpperCase(),km:l.km,motivo:b(l.motivo),labor:l.labor,repuestos:m,modeloId:l.modeloId}).then((function(e){""!==l.email&&E.service("mailer").create({to:l.email,subject:"Servicio Especializado Gabriel Mezzanotte | Facturar a: "+l.factura,html:Object(Pt.renderEmail)(r.a.createElement(Pt.Email,{title:"Presupuesto"},r.a.createElement(Xt,{user:"montiel",factura:"mezannotte",presupuesto:e})))}).then((function(){})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))},noButtons:!0},r.a.createElement(ta,{inputs:l,setInputs:u,onChange:f}),r.a.createElement("label",null,"Patente",r.a.createElement("input",{type:"text",name:"patente",placeholder:"-",autoComplete:"off",value:l.patente,onChange:f,required:!0})),r.a.createElement("label",null,"KM",r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"km",placeholder:"-",value:l.km,onChange:f})),r.a.createElement("label",null,"Reparacion",r.a.createElement("input",{type:"text",name:"motivo",placeholder:"-",autoComplete:"off",value:l.motivo,onChange:f})),r.a.createElement("label",null,"Mano de obra",r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"labor",placeholder:"$0",value:l.labor,onChange:f})),r.a.createElement("label",null,"Facturar a",r.a.createElement("input",{type:"text",name:"factura",placeholder:"-",value:l.factura,onChange:f})),r.a.createElement(aa,null,"Repuestos",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("input",{type:"number",min:"0000001",max:"9999999",name:"cantidad",placeholder:"Cantidad",value:l.cantidad,onChange:f}),r.a.createElement("input",{type:"text",name:"repuesto",placeholder:"Repuesto",value:l.repuesto,onChange:f,autoComplete:"off"}),r.a.createElement("input",{type:"number",min:"0000000",max:"9999999",name:"precio",placeholder:"Precio",value:l.precio,onChange:f}),r.a.createElement("button",{type:"button",onClick:function(){p((function(e){return[].concat(Object(wt.a)(e),[{cantidad:l.cantidad,repuesto:b(l.repuesto),precio:l.precio}])})),u((function(e){return Object(A.a)(Object(A.a)({},e),{},{cantidad:"1",repuesto:"",precio:"0"})}))}},"Agregar")),r.a.createElement(Wn.a,{component:null},m[1]&&m.map((function(e,n){return 0!==n&&r.a.createElement(ra,{key:n,unmountOnExit:!0,timeout:{enter:200,exit:150}},r.a.createElement("p",null,e.cantidad),r.a.createElement("p",null,e.repuesto),r.a.createElement("p",null,"$",e.precio),r.a.createElement("button",{type:"button",onClick:function(){return function(e){var n=Object(wt.a)(m);n.splice(e,1),p(n)}(n)}},"Borrar"))}))))),r.a.createElement(oa,null,r.a.createElement("button",{type:"button",onClick:t},"Cancelar"),r.a.createElement("input",{type:"email",name:"email",placeholder:"Direccion de correo",value:l.email,onChange:f}),r.a.createElement("button",{type:"submit"},"Enviar")))},ca=x.default.main(Yt||(Yt=Object(l.a)(['\n    width: 100%;\n    border-radius: 4px 4px 0 0;\n    background: var(--surface-variant);\n    border-top: var(--border-variant);\n    box-shadow: var(--shadow-variant);\n    text-align: right;\n\n    button {\n        height: 100%;\n        margin: 0;\n        padding: 0.25rem 0.55rem;\n        border: none;\n        font: var(--label);\n        font: 500 0.75rem/1.25rem var(--font-family);\n\n        &::after {\n            content: "";\n            position: absolute;\n            top: calc(50% - 0.5rem);\n            left: 0;\n            height: 1rem;\n            border-left: var(--border);\n        }\n    }\n']))),la=function(e){var n=e.setUser,t=e.darkTheme,a=e.setDarkTheme;return r.a.createElement(ca,null,t?r.a.createElement("button",{type:"button",onClick:function(){a(!1)}},"Tema Claro"):r.a.createElement("button",{type:"button",onClick:function(){a(!0)}},"Tema Oscuro"),r.a.createElement("button",{type:"button",onClick:function(){window.localStorage.removeItem("feathers-jwt"),n(null)}},"Cerrar sesi\xf3n"))},ua=x.default.main(Gt||(Gt=Object(l.a)(["\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n    display: grid;\n    justify-content: center;\n    grid-template-rows: 1fr 1.75rem;\n"]))),da=x.default.div(Ht||(Ht=Object(l.a)(["\n    width: 100vw;\n    max-width: 95rem;\n    height: 100%;\n    padding: 1.5rem 2rem;\n    display: grid;\n    gap: 2rem;\n    grid-template-columns: 3fr 2fr;\n\n    @media "," {\n        padding: 1.5rem 2rem;\n        gap: 2rem;\n    }\n"])),"(min-width: 1440px)"),sa=x.default.div(Kt||(Kt=Object(l.a)(["\n    position: relative;\n    height: calc(100vh - 4.75rem);\n    border-radius: 4px;\n    background: var(--surface-variant);\n    outline: var(--border-variant);\n    outline-offset: 0px;\n    box-shadow: var(--shadow-variant);\n    display: grid;\n    grid-template-rows: auto 1fr;\n"]))),ma=x.default.div(Jt||(Jt=Object(l.a)(["\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    display: grid;\n    grid-template-rows: auto 1fr;\n"]))),pa=function(e){var n=e.setUser,t=e.darkTheme,o=e.setDarkTheme,i=T(),l=i.clienteId,u=i.activeCard,d=i.setActiveCard,s=Object(a.useState)(!1),m=Object(c.a)(s,2),p=m[0],b=m[1],f=Object(a.useState)(!1),h=Object(c.a)(f,2),v=h[0],g=h[1];return Object(a.useEffect)((function(){"Cliente"!==u&&b(!1),"Presupuesto"!==u&&g(!1)}),[u]),Object(a.useEffect)((function(){d(p?"Cliente":"")}),[p,d]),Object(a.useEffect)((function(){d(v?"Presupuesto":"")}),[v,d]),r.a.createElement(W,null,r.a.createElement(ua,null,r.a.createElement(da,null,r.a.createElement(sa,null,r.a.createElement(Sn,{createCliente:p,setCreateCliente:b,setCreatePresupuesto:g}),r.a.createElement(kt,null),r.a.createElement(ea,null),r.a.createElement(ia,{edit:v,unEdit:function(){d("")}})),r.a.createElement(sa,null,r.a.createElement(Nt,{overlay:0!==l}),0!==l&&r.a.createElement(ma,null,r.a.createElement(dt,null),r.a.createElement(Un,{createCliente:p})),r.a.createElement(Nn,{cliente:{id:0,nombre:"",apellido:"",dni:"",empresa:"",telefono:"",email:"",createdAt:"",updatedAt:""},edit:p,unEdit:function(){d("")}}))),r.a.createElement(la,{setUser:n,darkTheme:t,setDarkTheme:o})))},ba=O.a.div.attrs({unmountOnExit:!0,timeout:{enter:300,exit:200}})(Qt||(Qt=Object(l.a)(["\n    will-change: opacity;\n    padding-bottom: calc(env(safe-area-inset-bottom) + 0px);\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n    display: grid;\n\n    &:enter {\n        opacity: 0;\n        transform: scale(1.1);\n    }\n\n    &:enter-active {\n        opacity: 1;\n        transform: initial;\n        transition: 0.3s ease-out;\n    }\n\n    &:exit {\n        opacity: 1;\n    }\n\n    &:exit-active {\n        opacity: 0;\n        transform: scale(0.9);\n        transition: 0.2s ease-in;\n    }\n"]))),fa=function(){var e=Object(a.useState)(null),n=Object(c.a)(e,2),t=n[0],o=n[1],i=Object(a.useState)(!1),l=Object(c.a)(i,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){E.reAuthenticate().then((function(e){var n=e.user;return o(n)})).catch((function(e){console.error(e),o(null)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.ThemeProvider,{theme:u?w:k},r.a.createElement(I,null)),r.a.createElement(j.a,null,r.a.createElement(ba,{key:t?"0":"1"},t?r.a.createElement(P,null,r.a.createElement(pa,{setUser:o,darkTheme:u,setDarkTheme:d})):r.a.createElement(B,{setUser:o}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ha=document.getElementById("root");if(!ha)throw new Error("Failed to find the root element");i.a.createRoot(ha).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fa,null))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,n,t){e.exports=t(109)},92:function(e,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.c13fc92c.chunk.js.map